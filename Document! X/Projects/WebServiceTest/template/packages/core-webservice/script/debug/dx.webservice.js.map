{"version":3,"sources":["../script/core/browser.ts","../script/core/common.ts","../script/core/dom-helpers.ts","../script/core/help2.ts","../script/core/local-storage.ts","../script/core/messaging.ts","../script/core/featurebase.ts","../script/core/document.ts","../script/core/responsive.ts","../script/core/fixed-to-top.ts","../script/core/theme.ts","../script/core/dynamic-styles.ts","../script/core/dark-mode.ts","../script/core/diacritics.ts","../script/features/base/chm.ts","../script/features/base/copy-code.ts","../script/features/base/highlight-text.ts","../script/features/base/mark-as-new.ts","../script/features/base/help2.ts","../script/features/base/microsoft-help-viewer.ts","../script/features/base/popup-links.ts","../script/features/base/quirks-mode.ts","../script/features/base/syntax-tabs.ts","../script/features/base/tabs.ts","../script/features/base/toggle-section.ts","../script/features/base/toggle-dropdown.ts","../script/features/base/view-in-frame.ts","../script/features/base/lightbox.ts","../script/features/base/video.ts","../script/features/content-filter/content-filter.ts","../script/features/designtime/designtime.ts","../script/features/dynamic-toc/dynamic-toc.ts","../script/features/in-this-topic/in-this-topic.ts","../script/features/language-filter/language-filter.ts","../script/features/member-filter/member-filter.ts","../script/features/versions/versions.ts","../../script/doctypes/dx.base/dx.base.ts","../../script/doctypes/dx.webservice/dx.webservice.ts"],"names":[],"mappings":"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","file":"innovasys.dx.webservice.js","sourcesContent":["/* eslint @typescript-eslint/no-unused-vars: \"off\" */\r\nnamespace Innovasys.Content {\r\n\r\n    const browserInfoConstants = {\r\n        minHeightChange: 10,\r\n        ie7Version: 7\r\n    };\r\n\r\n    export class BrowserInfo {\r\n        public name: string;\r\n        public version: number;\r\n        constructor() {\r\n            const ua = BrowserInfo.getUserAgent().toLowerCase();\r\n            const match: any = /(chrome)[ /]([\\w.]+)/.exec(ua) ||\r\n                /(webkit)[ /]([\\w.]+)/.exec(ua) ||\r\n                /(opera)(?:.*version|)[ /]([\\w.]+)/.exec(ua) ||\r\n                /(msie) ([\\w.]+)/.exec(ua) ||\r\n                ua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua) ||\r\n                [];\r\n            this.name = match[1] || \"\";\r\n            const versionIndex = 2;\r\n            this.version = parseInt(match[versionIndex] || \"0\", 10);\r\n        }\r\n\r\n        /**\r\n         * Returns the current user agent string\r\n         */\r\n        public static getUserAgent(): string {\r\n            return navigator.userAgent;\r\n        }\r\n    }\r\n\r\n    export interface ILocationInfo {\r\n        href: string;\r\n        protocol: string;\r\n        search?: string;\r\n        hash?: string;\r\n        hostname?: string;\r\n        pathname?: string;\r\n    }\r\n\r\n    export class Browser {\r\n        /** Indicates that we are running in a design time environment (i.e. the editor) */\r\n        public static isDesignTime = false;\r\n        /** Indicates that animations should be disabled */\r\n        public static isAnimationDisabled = false;\r\n        /** Provides access to more information about the browser agent etc. */\r\n        public static info = new BrowserInfo();\r\n        /** Index for dynamically loaded stylesheets */\r\n        public static dynamicallyLoadedFileIndex = 0;\r\n\r\n        private static readonly _idCharacters = \"_0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\".split(\"\");\r\n\r\n        /**\r\n         * Return Microsoft Internet Explorer (major) version number, or 0 for others.\r\n         */\r\n        public static msIeVersion(): number {\r\n            if (Browser.info.name === \"msie\") {\r\n                // is Microsoft Internet Explorer; return version number\r\n                return Browser.info.version;\r\n            } else {\r\n                return 0;    // is other browser\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Get a document instance from a given page element.\r\n         */\r\n        public static getDocumentInstance<TDocument extends Document>(element: JQuery | HTMLElement): TDocument {\r\n            let elementSelector: JQuery;\r\n            if (!(element instanceof jQuery)) {\r\n                elementSelector = $(element);\r\n            } else {\r\n                elementSelector = element as JQuery;\r\n            }\r\n            // Find the container element\r\n            let root: JQuery = elementSelector.hasClass(\"content-root\") ? elementSelector : elementSelector.parents(\".content-root\");\r\n            if (root.length === 0) {\r\n                root = $(\"body\");\r\n            } else {\r\n                root = $(root.get(0));\r\n            }\r\n            // Now we have the root, check for a document object\r\n            if (root.data(\"innovasys-document\") != null) {\r\n                return root.data(\"innovasys-document\") as TDocument;\r\n            } else {\r\n                // No existing document, create a new one\r\n                const newDocument = new Document(root.get(0));\r\n                root.data(\"innovasys-document\", newDocument);\r\n\r\n                return newDocument as TDocument;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Returns basic information about the current browser location.\r\n         */\r\n        public static getLocationInfo(): ILocationInfo {\r\n            return location;\r\n        }\r\n\r\n        /**\r\n         * Return the current document compatMode value.\r\n         */\r\n        public static getCompatMode(): string {\r\n            return document.compatMode;\r\n        }\r\n\r\n        /**\r\n         * Reload the current page.\r\n         */\r\n        public static reload(): void {\r\n            location.reload();\r\n        }\r\n\r\n        /**\r\n         * Replace the current location.\r\n         */\r\n        public static replaceLocation(newLocation: string): void {\r\n            if (window.history.replaceState) {\r\n                try {\r\n                    window.history.replaceState(\"\", \"\", `#${newLocation}`);\r\n                } catch (ex) {\r\n                    // May fail with security exception on local file system\r\n                }\r\n            } else {\r\n                window.location.replace(`#${newLocation}`);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Navigate to a new url.\r\n         * @param url The url to navigate to.\r\n         * @param replace Pass true in order to replace the current entry in the browser history.\r\n         */\r\n        public static navigateTo(url: string, replace: boolean): void {\r\n            if (replace) {\r\n                window.location.replace(url);\r\n            } else {\r\n                window.location.href = url;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Cross browser helper for stopping event propagation.\r\n         */\r\n        public static stopPropagation(e: JQueryEventObject): void {\r\n            if (e.stopPropagation) {\r\n                e.stopPropagation();\r\n            } else {\r\n                e.returnValue = false;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Loads a stylesheet from the specified Url.\r\n         */\r\n        public static loadStylesheet(\r\n            stylesheetUrl: string,\r\n            stylesheetId: string,\r\n            beforeElementId: string,\r\n            onLoaded: (_: string) => void = null): string {\r\n\r\n            const id = `file${this.dynamicallyLoadedFileIndex}`;\r\n            this.dynamicallyLoadedFileIndex++;\r\n\r\n            const attributes = { \"data-stylesheet-id\": stylesheetId };\r\n            yepnope.injectCss({ href: stylesheetUrl, attrs: attributes }, () => {\r\n                onLoaded(id);\r\n            });\r\n\r\n            return id;\r\n\r\n        }\r\n\r\n        /**\r\n         * Loads a script file from the specified Url.\r\n         */\r\n        public static loadScript(\r\n            scriptUrl: string,\r\n            scriptId: string,\r\n            beforeElementId: string,\r\n            onLoaded: (_: string) => void = null): string {\r\n\r\n            const id = `file${this.dynamicallyLoadedFileIndex}`;\r\n            this.dynamicallyLoadedFileIndex++;\r\n\r\n            const attributes = { \"data-script-id\": scriptId };\r\n            yepnope.injectJs({ src: scriptUrl, attrs: attributes }, () => {\r\n                onLoaded(id);\r\n            });\r\n\r\n            return id;\r\n\r\n        }\r\n\r\n        public static resizeIFrames(selector: JQuery, ignoreOffScreen = false): number {\r\n\r\n            let maxHeight = 0;\r\n            let minAllowedHeight: number;\r\n\r\n            try {\r\n                minAllowedHeight = $(window.top).height();\r\n            } catch (ex) {\r\n                minAllowedHeight = $(window).height();\r\n            }\r\n\r\n            $(\"iframe\", selector).each((index: number, element: HTMLIFrameElement): void => {\r\n                let currentHeight = 0;\r\n                if ($(element).is(\":visible\") && (ignoreOffScreen || $(element).offset().left >= 0)) {\r\n                    // Only resize if visible\r\n                    let doc: Document = null;\r\n                    try {\r\n                        doc = element.contentDocument\r\n                            ? element.contentDocument\r\n                            : (element.contentWindow.document || (element as any).document);\r\n                    } catch (exDocument) {\r\n                        // Security may prevent access if frame hasn't loaded or is cross origin\r\n                    }\r\n                    if (doc != null) {\r\n                        // Firefox throws an error here, so we trap and fallback\r\n                        try {\r\n                            currentHeight = $(doc).height();\r\n                        } catch (exHeight) {\r\n                            currentHeight = minAllowedHeight;\r\n                        }\r\n                    } else {\r\n                        currentHeight = minAllowedHeight;\r\n                    }\r\n                    let lastHeight = $(element).data(\"last-height\");\r\n                    if (!lastHeight) {\r\n                        lastHeight = 0;\r\n                    }\r\n                    const heightDifference = currentHeight - lastHeight;\r\n                    if (heightDifference > browserInfoConstants.minHeightChange\r\n                        || (heightDifference < 0 && heightDifference < browserInfoConstants.minHeightChange)) {\r\n\r\n                        const parent = $(element).parent();\r\n                        if (parent.get(0).tagName === \"DIV\" && currentHeight < parent.height()) {\r\n                            // Resize to at least the containing DIV height\r\n                            currentHeight = parent.height();\r\n                        }\r\n                        if (currentHeight < minAllowedHeight) {\r\n                            // Make sure at least as high as the window\r\n                            currentHeight = minAllowedHeight;\r\n                        }\r\n                        $(element).height(`${currentHeight}px`);\r\n                        $(element).data(\"last-height\", currentHeight);\r\n                    }\r\n                } else if (!$(element).is(\":visible\")) {\r\n                    // Not visible, collapse to zero\r\n                    $(element).height(0);\r\n                    $(element).data(\"last-height\", 0);\r\n                }\r\n                if (currentHeight > maxHeight) {\r\n                    // Record the maximum iframe height\r\n                    maxHeight = currentHeight;\r\n                }\r\n            });\r\n\r\n            const busy: JQuery = $(\"#i-busy\");\r\n            if (busy.length !== 0) {\r\n                busy.height(maxHeight);\r\n            }\r\n\r\n            return maxHeight;\r\n\r\n        }\r\n\r\n        public static showElement(query: JQuery<Element>, tagName: string): void {\r\n            // Firefox does not remove a display: none on show so we check for that specifically here\r\n            query.show();\r\n            if (tagName === \"body\") {\r\n                $(\"body\").css(\"display\", \"block\");\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Works around a jQuery setAttribute bug for a specific IE mode used by MSHV and Help 2.x (with IE11 installed)\r\n         */\r\n        public static checkForIe7ModeJqueryBug(): void {\r\n            if (Browser.info.name === \"msie\" && Browser.info.version <= browserInfoConstants.ie7Version) {\r\n                const mshvAttributeSetWorkaround = {\r\n                    set: (elem: Element, value: any, name: string): any => {\r\n                        elem.setAttribute(name, value);\r\n\r\n                        return elem.getAttributeNode(name);\r\n                    }\r\n                };\r\n                if ($ != null && ($ as any).attrHooks != null) {\r\n                    const attributeHooks: any = ($ as any).attrHooks;\r\n                    attributeHooks[\"aria-describedby\"] = mshvAttributeSetWorkaround;\r\n                    attributeHooks[\"aria-live\"] = mshvAttributeSetWorkaround;\r\n                    attributeHooks[\"aria-atomic\"] = mshvAttributeSetWorkaround;\r\n                    attributeHooks[\"aria-hidden\"] = mshvAttributeSetWorkaround;\r\n                }\r\n            }\r\n        }\r\n\r\n        public static getQueryStringParameter(name: string): string {\r\n            name = name.replace(/[[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\r\n            const regex = new RegExp(`[\\\\?&]${name}=([^&#]*)`);\r\n            const results = regex.exec(Browser.getLocationInfo().search);\r\n\r\n            return results == null ? null : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\r\n        }\r\n\r\n        public static isCompiledHelp(): boolean {\r\n            const currentHref = `${Browser.getLocationInfo().href}.`;\r\n            const currentProtocol = Browser.getLocationInfo().protocol;\r\n\r\n            if (currentHref.indexOf(\"mk:@MSITStore\") === 0) {\r\n                return true;\r\n            } else if (currentHref.indexOf(\"ms-its:\") === 0) {\r\n                return true;\r\n            } else if (currentProtocol === \"ms-help:\") {\r\n                return true;\r\n            } else if (currentProtocol === \"ms-xhelp:\" ||\r\n                currentHref.indexOf(\"ms.help?\") !== -1 ||\r\n                currentHref.indexOf(\"?method=page&\") !== -1) {\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        public static isEditor(): boolean {\r\n            return location.protocol === \"about:\";\r\n        }\r\n\r\n        /**\r\n         * Returns a unique id, randomnly generated and checked for uniqueness in the DOM\r\n         */\r\n        public static getUniqueId(): string {\r\n            const idlength = 10;\r\n            const getId = (): string => {\r\n                let idValue = \"\";\r\n                for (let i = 0; i < idlength; i++) {\r\n                    idValue += Browser._idCharacters[Math.floor(Math.random() * Browser._idCharacters.length)];\r\n                }\r\n\r\n                return idValue;\r\n            };\r\n            let id = getId();\r\n            while ($(`#${id}`).length > 0) {\r\n                id = getId();\r\n            }\r\n\r\n            return id;\r\n        }\r\n\r\n        /**\r\n         * Returns common feature settings\r\n         */\r\n        public static getCommonSettings(): IOverrides {\r\n            return ((Innovasys as any).overrides || (Innovasys as any).settings) || {};\r\n        }\r\n\r\n        /**\r\n         * Compares 2 version strings and returns an integer indicating the result. < 0 if a < b, > 0 if a > b, 0 if a = b\r\n         */\r\n        public static compareVersionStrings(a: string, b: string): number {\r\n            const regExStrip0 = /(\\.0+)+$/;\r\n            const segmentsA = a.replace(regExStrip0, \"\").split(\".\");\r\n            const segmentsB = b.replace(regExStrip0, \"\").split(\".\");\r\n            const l = Math.min(segmentsA.length, segmentsB.length);\r\n\r\n            for (let i = 0; i < l; i++) {\r\n                const diff = parseInt(segmentsA[i], 10) - parseInt(segmentsB[i], 10);\r\n                if (diff) {\r\n                    return diff;\r\n                }\r\n            }\r\n\r\n            return segmentsA.length - segmentsB.length;\r\n        }\r\n\r\n        /**\r\n         * Creates or returns a <style> element to contain custom style markup\r\n         */\r\n        public static getDynamicStyleContainer(id: string): JQuery {\r\n            let $dynamicStyleElement = $(`#${id}`);\r\n            if ($dynamicStyleElement.length === 0) {\r\n                $dynamicStyleElement = $(`<style type=\"text/css\" id=\"${id}\"></style>`);\r\n                $(\"head\").append($dynamicStyleElement);\r\n            }\r\n\r\n            return $dynamicStyleElement;\r\n        }\r\n\r\n        public static isElementInView(element: Element, fullyInView: boolean): boolean {\r\n            if (element == null) {\r\n                return false;\r\n            }\r\n\r\n            if (!$(element).is(\":visible\")) {\r\n                return false;\r\n            }\r\n\r\n            const pageTop = $(window).scrollTop();\r\n            const pageBottom = pageTop + $(window).height();\r\n            const elementTop = $(element).offset().top;\r\n            const elementBottom = elementTop + $(element).height();\r\n\r\n            if (fullyInView) {\r\n                return ((pageTop < elementTop) && (pageBottom > elementBottom));\r\n            } else {\r\n                return ((elementTop <= pageBottom) && (elementBottom >= pageTop));\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n/* eslint @typescript-eslint/no-explicit-any: \"off\" */\r\nconst overrides: Innovasys.IOverrides = ((Innovasys as any).overrides || (Innovasys as any).settings);\r\n\r\nif (document.compatMode !== \"BackCompat\"\r\n    || !(location.protocol === \"ms-xhelp:\"\r\n        || location.href.indexOf(\"ms.help?\") !== -1\r\n        || location.href.indexOf(\"?method=page&\") !== -1)) {\r\n\r\n    if (overrides == null || !overrides.isHideBodyDuringLoadDisabled) {\r\n        // Prevent flickering by setting body to display:none during initialization\r\n        document.write(\"<style type=\\\"text/css\\\">body{display:none;}</style>\");\r\n    } else if (overrides.isOverflowClippedDuringLoad) {\r\n        // Prevent adding of a vertical scrollbar during load\r\n        document.write(\"<style type=\\\"text/css\\\">body{overflow-y:hidden;}</style>\");\r\n    }\r\n}\r\n","/* eslint @typescript-eslint/no-unused-vars: \"off\" */\r\nnamespace Innovasys.Content {\r\n\r\n    /**\r\n     * Encapsulates a left and top position.\r\n     */\r\n    export class ElementPosition {\r\n\r\n        /* eslint-disable-next-line no-useless-constructor */\r\n        constructor(public left: number, public top: number) {}\r\n\r\n    }\r\n\r\n}\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content {\r\n\r\n    export class DomHelpers {\r\n\r\n        /**\r\n         * Returns an elements absolute position, allowing for the non-scrolling header\r\n         * @param element The element to find the absolute position of\r\n         */\r\n        public static getElementPosition(element: HTMLElement): ElementPosition {\r\n            let offsetLeft = 0;\r\n            let offsetTop = 0;\r\n\r\n            while (element) {\r\n                const MSIE_4_VERSION = 4;\r\n                // Allow for the scrolling body region in IE\r\n                if (Browser.msIeVersion() > MSIE_4_VERSION) {\r\n                    offsetLeft += (element.offsetLeft - element.scrollLeft);\r\n                    offsetTop += (element.offsetTop - element.scrollTop);\r\n                } else {\r\n                    offsetLeft += element.offsetLeft;\r\n                    offsetTop += element.offsetTop;\r\n                }\r\n\r\n                element = (element.offsetParent as HTMLElement);\r\n            }\r\n\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            const leftMargin = (document.body as any).leftMargin as number;\r\n            if (BrowserInfo.getUserAgent().indexOf(\"Mac\") !== -1\r\n                && typeof leftMargin !== \"undefined\") {\r\n\r\n                offsetLeft += leftMargin;\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                offsetTop += ((document.body as any).topMargin as number);\r\n            }\r\n\r\n            return new ElementPosition(offsetLeft, offsetTop);\r\n        }\r\n\r\n        /**\r\n         * Returns the text from the containing table. Uses this as the context element from which to find the containing table.\r\n         */\r\n        public static getTextFromContainingTable(element: HTMLElement): string {\r\n            const parentTableQuery = $(element)\r\n                .parents(\"table\")\r\n                .get(0);\r\n            const parentTable: JQuery = $(parentTableQuery);\r\n            const tableCell: HTMLTableCellElement = parentTable.find(\"td\").get(0) as HTMLTableCellElement;\r\n            const preCell: JQuery<HTMLPreElement> = $(tableCell).find(\"pre\");\r\n\r\n            let elemsToUse: HTMLElement[] = [];\r\n\r\n            if (preCell && preCell.length > 0) {\r\n                elemsToUse = preCell.toArray();\r\n            } else {\r\n                elemsToUse.push(tableCell);\r\n            }\r\n\r\n            let textResult: string = \"\";\r\n\r\n            for (let index = 0; index < elemsToUse.length; ++index) {\r\n                let elemTmp = elemsToUse[index];\r\n                if (elemTmp != null) {\r\n                    if (elemTmp.textContent != null) {\r\n                        textResult += elemTmp.textContent;\r\n                    } else if (elemTmp.innerText != null) {\r\n                        textResult += elemTmp.innerText;\r\n                    } else {\r\n                        textResult += $(elemTmp).text();\r\n                    }\r\n                }\r\n            }\r\n            return textResult;\r\n        }\r\n    }\r\n\r\n}\r\n","/* .NET Framework Help Topic Resolution */\r\n\r\nconst getCurrentHelp2Namespace = (): string => {\r\n    let namespace = \"\";\r\n    const location = Innovasys.Content.Browser.getLocationInfo();\r\n\r\n    if (location.protocol === \"ms-help:\") {\r\n        namespace = location.hostname;\r\n        const URL_PREFIX_LENGTH = 2;\r\n        if (namespace.substring(0, URL_PREFIX_LENGTH) === \"//\") {\r\n            namespace = namespace.substring(URL_PREFIX_LENGTH);\r\n        }\r\n    }\r\n\r\n    return namespace;\r\n};\r\n\r\nconst findHelp2Keyword = (namespaceName: string, keyword: string): string => {\r\n\r\n    if (namespaceName.length > 0) {\r\n        try {\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            const session: any = new ActiveXObject(\"HxDs.HxSession\");\r\n            session.Initialize(`ms-help://${namespaceName}`, 0);\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            const topics: any = session.Query(keyword, \"!DefaultAssociativeIndex\", 0, \"\");\r\n            if (topics.Count > 0) {\r\n                return topics(1).URL;\r\n            }\r\n        } catch (e) {\r\n            //\r\n        }\r\n    }\r\n\r\n    return \"\";\r\n};\r\n\r\n// This function is Copyright 2006 Innovasys Limited. No reproduction or usage\r\n//  allowed other than in documentation generated by licensed Innovasys products\r\nconst resolveHelp2Keyword = (keyword: string, onlineKeyword: string): string => {\r\n\r\n    let url = \"\";\r\n\r\n    try {\r\n        // Try the current namespace\r\n        url = findHelp2Keyword(getCurrentHelp2Namespace(), keyword);\r\n        if (url === \"\") {\r\n            // Try the likely namespaces first, most recent first\r\n            url = findHelp2Keyword(\"MS.VSCC.v80\", keyword);\r\n            if (url === \"\") {\r\n                url = findHelp2Keyword(\"MS.VSCC.2003\", keyword);\r\n                if (url === \"\") {\r\n                    url = findHelp2Keyword(\"MS.VSCC\", keyword);\r\n                }\r\n            }\r\n        }\r\n\r\n        // URL found in one of the known VSCC namespaces\r\n        if (url !== \"\") {\r\n            return url;\r\n        } else {\r\n            // For future proofing, try other VSCC namespaces\r\n            const registryWalker = new ActiveXObject(\"HxDs.HxRegistryWalker\");\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            const namespaces: any = registryWalker.RegisteredNamespaceList(\"MS.VSCC\");\r\n\r\n            if (namespaces.Count > 0) {\r\n                for (let n = 1; n <= namespaces.Count; n++) {\r\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                    const namespace: any = namespaces.Item(n);\r\n                    const namespaceName: string = namespace.Name;\r\n                    const PREFIX_LENGTH = 7;\r\n                    if (namespaceName.substring(0, PREFIX_LENGTH) === \"MS.VSCC\") {\r\n                        switch (namespaceName) {\r\n                            case \"MS.VSCC.v80\":\r\n                                break;\r\n                            case \"MS.VSCC.2003\":\r\n                                break;\r\n                            case \"MS.VSCC\":\r\n                                break;\r\n                            default:\r\n                                url = findHelp2Keyword(namespaceName, \"\");\r\n                                if (url !== \"\") {\r\n                                    return url;\r\n                                }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    } catch (e) {\r\n        //\r\n    }\r\n\r\n    // No match found in any applicable namespace\r\n    // Msdn doesn't support links to individual overloads, only to the master page\r\n    //  so we trim off the brackets when directing to Msdn\r\n    const bracketPosition = onlineKeyword.indexOf(\"(\");\r\n    if (bracketPosition !== -1) {\r\n        onlineKeyword = onlineKeyword.substring(0, bracketPosition);\r\n    }\r\n\r\n    const keywordForUrl = onlineKeyword.replace(\"`\", \"-\").toLowerCase();\r\n\r\n    return `https://docs.microsoft.com/dotnet/api/${keywordForUrl}`;\r\n};\r\n\r\n/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nconst navigateToHelp2Keyword = (keyword: string, onlineKeyword: string, replacePage: boolean): void => {\r\n    window.status = \"Resolving link. Please wait a moment...\";\r\n    const url = resolveHelp2Keyword(keyword, onlineKeyword);\r\n    window.status = \"\";\r\n    const MSDN_PREFIX_LENGTH = 25;\r\n    const DOCS_PREFIX_LENGTH = 26;\r\n    if ((url.substring(0, MSDN_PREFIX_LENGTH) === \"http://msdn.microsoft.com\"\r\n        || url.substring(0, DOCS_PREFIX_LENGTH) === \"https://docs.microsoft.com\"\r\n    ) &&\r\n        window.parent != null) {\r\n        // MSDN no longer support hosting in an IFRAME so open in new browser window\r\n\t\tvar win = window.open('about:blank', '_blank')\r\n\t\turlExistsInnov(url, \r\n            function() { win.location.href = url;}, \r\n            function() {\r\n\t\t\t\tvar parentUrl = url.substring(0, url.lastIndexOf(\".\"));\r\n\t\t\t\turlExistsInnov(parentUrl, \r\n                    function() { win.location.href = parentUrl; }, \r\n                    function() { win.location.href = url;}\r\n                );\r\n\t\t});\r\n    } else if (replacePage) {\r\n        location.replace(url);\r\n    } else {\r\n        location.href = url;\r\n    }\r\n};\r\n\r\n/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nconst urlExistsInnov = (url: string, successCallBack: any, notfoundCallBack: any): void => {\r\n    $.ajax({\r\n      url: url,\r\n      dataType: \"jsonp\",\r\n      statusCode: {\r\n        200: function(response) {\r\n          successCallBack();\r\n        },\r\n        404: function(response) {\r\n          notfoundCallBack();\r\n        }\r\n      }\r\n    });\r\n  }","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content {\r\n\r\n    /**\r\n     * Common Local Storage interface\r\n     */\r\n    export interface ILocalStorageHandler {\r\n        load(name: string): void;\r\n        save(name: string): void;\r\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n        setAttribute(key: string, value: any): void;\r\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n        getAttribute(key: string): any;\r\n    }\r\n\r\n    /**\r\n     * Wrapper for handling load/save to localstorage. Handles the difference in functionality when executing at design time\r\n     *  and in a CHM.\r\n     */\r\n    export class LocalStorageHandler implements ILocalStorageHandler {\r\n\r\n        public storageMethod = \"native\";\r\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n        public cookieData: any = null;\r\n        public storageElement: Element = null;\r\n\r\n        constructor(public attributePrefix: string = \"\") {\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            let windowLocalStorage: any;\r\n            try {\r\n                // Edge throws an exception when querying localStorage in local file system output\r\n                windowLocalStorage = window.localStorage;\r\n            } catch (e) {\r\n                //\r\n            }\r\n            if (!windowLocalStorage) {\r\n                if (location.protocol === \"ms-its:\") {\r\n                    // Cookies don't work in CHM so we use userdata behavior instead\r\n                    this.storageMethod = \"userdata\";\r\n                    const storageElement = $(\"<link />\");\r\n                    storageElement.css(\"behavior\", \"url(#default#userdata)\");\r\n                    storageElement.appendTo(\"body\");\r\n                    this.storageElement = storageElement.get(0);\r\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                    (this.storageElement as any).load(\"localStorage\");\r\n                } else {\r\n                    // If local storage isn't available, fall back to cookie storage\r\n                    this.storageMethod = \"cookie\";\r\n                    const cookieValue = Cookies.get(\"localStorage\");\r\n                    if (cookieValue) {\r\n                        this.cookieData = JSON.parse(cookieValue);\r\n                    } else {\r\n                        this.cookieData = {};\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public load(name: string): void {\r\n            // local storage automatically saves\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public save(name: string): void {\r\n            // local storage automatically saves\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n        public setAttribute(key: string, value: any): void {\r\n            if (this.attributePrefix != null) {\r\n                key = this.attributePrefix + key;\r\n            }\r\n            if (this.storageMethod === \"native\") {\r\n                if (value == null || typeof value === \"undefined\") {\r\n                    window.localStorage.removeItem(key);\r\n                } else {\r\n                    window.localStorage.setItem(key, value);\r\n                }\r\n            } else if (this.storageMethod === \"cookie\") {\r\n                if (value == null) {\r\n                    this.cookieData[key] = null;\r\n                } else {\r\n                    this.cookieData[key] = `${value}`;\r\n                }\r\n                Cookies.set(\"localStorage\", JSON.stringify(this.cookieData), { expires: 365, path: \"/\", domain: \"\" });\r\n            } else if (this.storageMethod === \"userdata\") {\r\n                this.storageElement.setAttribute(key, `${value}`);\r\n                // Save method is added by the userdata behavior\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                (this.storageElement as any).save(\"localStorage\");\r\n            }\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n        public getAttribute(key: string): any {\r\n            if (this.attributePrefix != null) {\r\n                key = this.attributePrefix + key;\r\n            }\r\n            if (this.storageMethod === \"native\") {\r\n                return window.localStorage.getItem(key);\r\n            } else if (this.storageMethod === \"cookie\") {\r\n                if (typeof this.cookieData[key] === \"undefined\") {\r\n                    return null;\r\n                } else {\r\n                    return this.cookieData[key];\r\n                }\r\n            } else if (this.storageMethod === \"userdata\") {\r\n                return this.storageElement.getAttribute(key);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content {\r\n\r\n    /**\r\n     * A message object, used for cross frame communication.\r\n     */\r\n    export class WindowMessage {\r\n        /* eslint-disable-next-line no-useless-constructor */\r\n        constructor(public messageType: string, public messageData: string) { }\r\n    }\r\n\r\n    /**\r\n     * Cross frame messaging utility functionality.\r\n     */\r\n    export class Messaging {\r\n\r\n        /**\r\n         * Returns true if PostMessage support is available in the current browser.\r\n         */\r\n        public static isPostMessageEnabled(): boolean {\r\n            return (window.postMessage != null);\r\n        }\r\n\r\n        /**\r\n         * Registers to receive message events incoming to the current window.\r\n         * @param receiver The receiving event handler.\r\n         */\r\n        public static addMessageListener(receiver: (ev: MessageEvent) => void): void {\r\n            if (Messaging.isPostMessageEnabled()) {\r\n                if (window.addEventListener) {\r\n                    window.addEventListener(\"message\", receiver, false);\r\n                } else {\r\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                    (window as any).attachEvent(\"onmessage\", receiver);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Removes a previous registered window event listener\r\n         * @param receiver The receiving event handler.\r\n         */\r\n        public static removeMessageListener(receiver: (ev: MessageEvent) => void): void {\r\n            if (Messaging.isPostMessageEnabled()) {\r\n                if (window.addEventListener) {\r\n                    window.removeEventListener(\"message\", receiver, false);\r\n                } else {\r\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                    (window as any).detachEvent(\"onmessage\", receiver);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Gets a WindowMessage object from string message data.\r\n         * @param data The string containing the message data (format MessageType|MessageData).\r\n         */\r\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n        public static getMessageFromData(data: any): WindowMessage {\r\n            const separator = data.indexOf(\"|\") as number;\r\n            let messageType: string;\r\n            let messageData: string;\r\n\r\n            if (separator !== -1) {\r\n                messageType = data.substring(0, separator);\r\n                messageData = data.substring(separator + 1);\r\n            } else {\r\n                messageType = data;\r\n                messageData = \"\";\r\n            }\r\n\r\n            return new WindowMessage(messageType, messageData);\r\n        }\r\n\r\n        public static routeMessageToFrameElement(windowName: string, messageType: string, messageData: string): void {\r\n            const element: Element = document.getElementById(windowName);\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            if (element != null && (element as any).contentWindow != null) {\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                Messaging.routeMessageToWindow(((element as any).contentWindow as Window), messageType, messageData);\r\n            }\r\n        }\r\n\r\n        public static routeMessageToWindow(window: Window, messageType: string, messageData: string): void {\r\n            if (window != null && self !== window) {\r\n                if (window != null && window.postMessage != null) {\r\n                    window.postMessage(`${messageType}|${messageData}`, \"*\");\r\n                }\r\n            }\r\n        }\r\n\r\n        public static routeMessageToParentFrame(messageType: string, messageData: string): void {\r\n            if (parent != null && self !== parent) {\r\n                this.routeMessageToWindow(parent, messageType, messageData);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content {\r\n\r\n    export enum ResponsiveClickTargetKind {\r\n        auto,\r\n        inline,\r\n        block\r\n    }\r\n\r\n    export abstract class DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        /* eslint-disable-next-line no-useless-constructor */\r\n        constructor(protected documentInstance: Document = null) { }\r\n\r\n        public initializeDocument(): void {\r\n            //\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad?: boolean): void {\r\n            //\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public onMessage(message: WindowMessage): void {\r\n            //\r\n        }\r\n\r\n        public abstract getName(): string;\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public ensureElementVisible(element: Element): void {\r\n            //\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public beforeSetElementVisibility(element: Element, isVisible: boolean, isImmediate: boolean): boolean {\r\n            return false;\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public afterSetElementVisibility(element: Element, isVisible: boolean): void {\r\n            //\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public populateResponsiveConfiguration(configuration: ResponsiveConfiguration): void {\r\n            //\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public applyResponsiveConfiguration(configuration: ResponsiveConfiguration): void {\r\n            //\r\n        }\r\n\r\n        /**\r\n         * Returns a number used to determine the order of content initialization amongst document features.\r\n         */\r\n        public initializeContentOrdinal(): number {\r\n            return 0;\r\n        }\r\n\r\n    }\r\n\r\n    export class DocumentFeatureConfiguration {\r\n\r\n        // TODO: Would be useful to key this array so that a feature factory can override a default implementation\r\n\r\n        private static readonly _featureFactories: IDocumentFeatureFactory[] = [];\r\n\r\n        public static registerDocumentFeatureFactory(factory: IDocumentFeatureFactory): void {\r\n            DocumentFeatureConfiguration._featureFactories.push(factory);\r\n        }\r\n\r\n        public static getFeatureFactories(): IDocumentFeatureFactory[] {\r\n            return DocumentFeatureConfiguration._featureFactories;\r\n        }\r\n\r\n    }\r\n\r\n    export class ResponsiveConfiguration {\r\n\r\n        /* eslint-disable-next-line no-useless-constructor */\r\n        constructor(public profileName: string, public clickTargets: ResponsiveClickTarget[] = []) {\r\n\r\n        }\r\n\r\n        public stylesheetUrls: string[] = [];\r\n\r\n        public tablesToPivot: ResponsiveTable[] = [];\r\n\r\n    }\r\n\r\n    export class ResponsiveClickTarget {\r\n\r\n        /* eslint-disable-next-line no-useless-constructor */\r\n        constructor(public className: string, public kind: ResponsiveClickTargetKind) { }\r\n\r\n    }\r\n\r\n    export class ResponsiveTable {\r\n\r\n        /* eslint-disable-next-line no-useless-constructor */\r\n        constructor(public selector: string, public onAfterPivot: (originalTable: JQuery, pivotDiv: JQuery) => void = null) { }\r\n\r\n    }\r\n\r\n}\r\n","/* Userdata support in CHMs requires pages are loaded under the ms-its protocol and not mk:@MSITStore */\r\nconst currentLocation = `${location.href}.`;\r\nconst mkPrefix = \"mk:@MSITStore\";\r\nif (currentLocation.indexOf(mkPrefix) === 0) {\r\n    const restOfUrl = currentLocation.substring(mkPrefix.length + 1, currentLocation.length - 1);\r\n    const newLocation = `ms-its:${restOfUrl}`;\r\n    location.replace(newLocation);\r\n}\r\n\r\n/* eslint @typescript-eslint/no-unused-vars: \"off\" */\r\nnamespace Innovasys.Content {\r\n\r\n    export class Document {\r\n\r\n        /** Handle to the local storage instance */\r\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n        private _localStorageInstance: any;\r\n        /** Handle to the window message event listener so we can remove it later */\r\n        private _windowMessageEventListener: (event: MessageEvent) => void;\r\n        /** Indicates if this document instance has been unloaded */\r\n        private _isUnloaded = true;\r\n        /** Features collection */\r\n        private readonly _features: IDocumentFeature[];\r\n        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n        private _featureSettings: any;\r\n\r\n        /** Provides an id that can be used to disambiguate this document if it is loaded in a parent document */\r\n        public id = \"\";\r\n        /** The root element of this logical document */\r\n        public rootElement: HTMLElement;\r\n        /** JQuery selector representing the root element of this document */\r\n        public rootSelector: JQuery;\r\n        /** Indicates that this page should be highlighted as new */\r\n        public isNew: boolean;\r\n        /** Indicates that automatic responsive functionality is enabled */\r\n        public isResponsiveEnabled: boolean;\r\n        /** Indicates that the body should be made visible after loading is complete. Can be set to false if\r\n         * waiting on dynamically loaded stylesheets\r\n         */\r\n        public setBodyVisibleAfterLoadComplete: boolean;\r\n        /** Indicates that this is a content document. Content documents inform the parent frames on load */\r\n        public isContentDocument: boolean;\r\n\r\n        constructor(rootElement: HTMLElement, id = \"\") {\r\n            this.id = id;\r\n            this.rootElement = rootElement;\r\n            this.rootSelector = $(rootElement);\r\n            this._featureSettings = {};\r\n            this.setBodyVisibleAfterLoadComplete = true;\r\n            this.isNew = false;\r\n            this.isResponsiveEnabled = false;\r\n            this.isContentDocument = true;\r\n\r\n            this.rootSelector.data(\"innovasys-document\", this);\r\n\r\n            // Create the features instances according to configuration. Some factories may return null if the feature\r\n            //  is not required for this document.\r\n            this._features = $.map(\r\n                DocumentFeatureConfiguration.getFeatureFactories(),\r\n                (factory: IDocumentFeatureFactory): IDocumentFeature => factory.createInstance(this));\r\n\r\n            // Initialize the features.\r\n            $.each(this._features, (index: number, feature: IDocumentFeature) => {\r\n                feature.initializeDocument();\r\n            });\r\n\r\n            if (Browser.isDesignTime) {\r\n                $(\"body\").addClass(\"i-designtime\");\r\n            }\r\n\r\n            if (Browser.isEditor()) {\r\n                $(\"body\").addClass(\"i-editor\");\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Get a local storage instance, initializing the first time it is called.\r\n         */\r\n        public getLocalStorage(): ILocalStorageHandler {\r\n            if (Browser.isDesignTime) {\r\n                try {\r\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                    if ((window.external as any).IsInnovasysDesigner) {\r\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                        this._localStorageInstance = ((window.external as any) as ILocalStorageHandler);\r\n                    }\r\n                } catch (e) {\r\n                    //\r\n                }\r\n            }\r\n            if (!this._localStorageInstance) {\r\n                this._localStorageInstance = new LocalStorageHandler(this.id);\r\n            }\r\n\r\n            return this._localStorageInstance;\r\n        }\r\n\r\n        /**\r\n         * Called once the DOM has loaded. Performs content initialization.\r\n         */\r\n        public load(): void {\r\n\r\n            const overrides: IOverrides = Browser.getCommonSettings();\r\n\r\n            if (overrides.isNew) {\r\n                this.isNew = true;\r\n            }\r\n\r\n            // If running in a frame, set up a message listener and let\r\n            //  the parent frame know we have loaded\r\n            if (this.id === \"\") {\r\n                // Running in a frame - listen for commands\r\n                if (Messaging.isPostMessageEnabled()) {\r\n                    this._windowMessageEventListener = (ev: MessageEvent): void => this.receiveMessage(ev);\r\n                    Messaging.addMessageListener(this._windowMessageEventListener);\r\n\r\n                    if (this.isContentDocument) {\r\n                        // Notify the parent frame that we have loaded, and give it our page title\r\n                        Messaging.routeMessageToParentFrame(\"loaded\", location.href);\r\n                        Messaging.routeMessageToParentFrame(\"updatePageTitle\", document.title);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Add a class to the body that indicates that kind of navigation we are using\r\n            if (overrides.navigationKind !== \"inpage\") {\r\n                $(\"body\").addClass(\"i-navigation-frames\");\r\n            } else {\r\n                $(\"body\").addClass(\"i-navigation-inpage\");\r\n            }\r\n\r\n            // Configure our document content for each of the features\r\n            this.initializeContent(this.rootSelector, true);\r\n\r\n            if (this.id === \"\" && this.setBodyVisibleAfterLoadComplete) {\r\n                // Resume rendering updates after loading complete\r\n                this.setBodyVisible();\r\n            }\r\n        }\r\n\r\n        public setBodyVisible(): void {\r\n            $(\"html\").addClass(\"i-loaded\");\r\n            Browser.showElement($(\"body\"), \"body\");\r\n            setTimeout(() => {\r\n                if (Browser.getCommonSettings().isOverflowClippedDuringLoad) {\r\n                    $(\"body\").css(\"overflow-y\", \"auto\");\r\n                }\r\n                $(\".i-busy-overlay\").hide();\r\n            }, 1);\r\n        }\r\n\r\n        public unload(): void {\r\n\r\n            if (this.id === \"\") {\r\n                // Running in a frame - remove message listener\r\n                if (Messaging.isPostMessageEnabled() && this._windowMessageEventListener != null) {\r\n                    Messaging.removeMessageListener(this._windowMessageEventListener);\r\n                }\r\n            }\r\n\r\n            this._isUnloaded = true;\r\n\r\n        }\r\n\r\n        /**\r\n         * Initializes new DOM content, either on page load or subsequently when new content is created.\r\n         */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad = false): void {\r\n            $.each(this._features.sort(\r\n                (a: IDocumentFeature, b: IDocumentFeature): number => a.initializeContentOrdinal() - b.initializeContentOrdinal()),\r\n                (_: number, feature: IDocumentFeature) => {\r\n                    feature.initializeContent(rootSelector, isInitialLoad);\r\n                });\r\n        }\r\n\r\n        /**\r\n         * Creates, populates and returns a responsive configuration instance.\r\n         */\r\n        public getResponsiveConfiguration(profileName: string): ResponsiveConfiguration {\r\n            const configuration: ResponsiveConfiguration = new ResponsiveConfiguration(profileName);\r\n            $.each(this._features, (index: number, feature: IDocumentFeature) => {\r\n                feature.populateResponsiveConfiguration(configuration);\r\n            });\r\n\r\n            return configuration;\r\n        }\r\n\r\n        /**\r\n         * Applies a responsive configuration.\r\n         */\r\n        public applyResponsiveConfiguration(responsiveConfiguration: ResponsiveConfiguration): void {\r\n            $.each(this._features, (index: number, feature: IDocumentFeature) => {\r\n                feature.applyResponsiveConfiguration(responsiveConfiguration);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Cross frame message processor.\r\n         * @param event The message event containing message data.\r\n         */\r\n        public receiveMessage(event: MessageEvent): void {\r\n            let message: WindowMessage;\r\n            try {\r\n                message = Messaging.getMessageFromData(event.data);\r\n            } catch (ex) {\r\n                // Catch exceptions that can fire at design time\r\n            }\r\n\r\n            this.processWindowMessage(message);\r\n        }\r\n\r\n        /**\r\n         * Process the passed message.\r\n         */\r\n        public processWindowMessage(message: WindowMessage): void {\r\n            if (message) {\r\n                switch (message.messageType) {\r\n                    case \"refresh\":\r\n                        document.location.reload();\r\n                        break;\r\n                    default:\r\n                        if (this._features != null) {\r\n                            $.each(this._features, (index: number, feature: IDocumentFeature) => {\r\n                                feature.onMessage(message);\r\n                            });\r\n                        }\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Ensures that the passed element is visible. Calls document features to apply\r\n         *  any necessary logic (e.g. where the element is within a collapsed section or tab)\r\n         */\r\n        public ensureElementVisible(element: Element): void {\r\n            $.each(this._features, (index: number, feature: IDocumentFeature): void => {\r\n                feature.ensureElementVisible(element);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Toggle the state of an element or elements.\r\n         * @param elements JQuery selector representing Element(s) to toggle state for.\r\n         * @param isImmediate When set to true, animations are disabled.\r\n         * @param isVisible Indicates if the element(s) should be made visible or not.\r\n         */\r\n        public setElementVisibility(elements: JQuery, isVisible: boolean, isImmediate: boolean): JQuery {\r\n            return elements.each((index: number, element: Element) => {\r\n\r\n                let cancelDefault = false;\r\n                // Allow features to add custom behavior and/or prevent default\r\n                $.each(this._features, (_: number, feature: IDocumentFeature) => {\r\n                    if (!cancelDefault) {\r\n                        if (feature.beforeSetElementVisibility(element, isVisible, isImmediate) === true) {\r\n                            cancelDefault = true;\r\n                        }\r\n                    }\r\n                });\r\n\r\n                if (!cancelDefault) {\r\n\r\n                    if ($(element).css(\"display\") !== \"none\" !== isVisible) {\r\n                        if ($(element).css(\"display\") === \"none\") {\r\n                            if (isImmediate || Browser.isAnimationDisabled) {\r\n                                // Element is currently not visible - make it visible\r\n                                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                                const originalDisplay: any = $(element).data(\"i-original-display\");\r\n                                if (originalDisplay != null) {\r\n                                    $(element).css(\"display\", originalDisplay);\r\n                                    $(element).data(\"i-original-display\", null);\r\n                                } else {\r\n                                    if (element.tagName === \"TR\") {\r\n                                        $(element).css(\"display\", \"table-row\");\r\n                                    } else {\r\n                                        $(element).css(\"display\", \"block\");\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                $(element).slideDown(\"fast\");\r\n                            }\r\n                        } else {\r\n                            // Element is currently visible, hide\r\n                            $(element).data(\"i-original-display\", $(element).css(\"display\"));\r\n                            if (isImmediate || Browser.isAnimationDisabled) {\r\n                                $(element).hide();\r\n                            } else {\r\n                                $(element).slideUp(\"fast\");\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    $.each(this._features, (_: number, feature: IDocumentFeature) => {\r\n                        feature.afterSetElementVisibility(element, isVisible);\r\n                    });\r\n\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Returns a feature matching the passed name\r\n         */\r\n        public getFeatureByName<TFeature extends IDocumentFeature>(name: string): TFeature {\r\n            if (name == null) {\r\n                return null;\r\n            }\r\n            const matchingFeatures: TFeature[]\r\n                = $.map(this._features, (feature: IDocumentFeature, index: number): TFeature => {\r\n                    if (feature.getName().toLowerCase() === name.toLowerCase()) {\r\n                        return feature as TFeature;\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                });\r\n            if (matchingFeatures.length > 0) {\r\n                return matchingFeatures[0];\r\n            }\r\n        }\r\n\r\n        public getFeatureSettings<TFeatureSettings>(name: string, getBaseSettings: () => TFeatureSettings): TFeatureSettings {\r\n            if (name == null) {\r\n                return null;\r\n            }\r\n            if (this._featureSettings[name] != null) {\r\n                return this._featureSettings[name] as TFeatureSettings;\r\n            } else {\r\n                const baseSettings = getBaseSettings != null ? getBaseSettings() : {};\r\n                let newSettings: TFeatureSettings;\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                const defaults: any = (Innovasys as any).overrides || (Innovasys as any).settings;\r\n                const defaultSettings = defaults == null ? null : defaults[name.toLowerCase()];\r\n                if (defaultSettings != null) {\r\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                    newSettings = { ...(baseSettings as any), ...defaultSettings } as TFeatureSettings;\r\n                } else {\r\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                    newSettings = { ...(baseSettings as any) } as TFeatureSettings;\r\n                }\r\n                this._featureSettings[name] = newSettings;\r\n\r\n                return newSettings;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    export class DocumentMessageNames {\r\n        public static quickSearch = \"quickSearch\";\r\n        public static resetQuickSearch = \"resetQuickSearch\";\r\n        public static insertNavigationHeader = \"insertNavigationHeader\";\r\n        public static searchHighlightComplete = \"searchHighlightComplete\";\r\n    }\r\n\r\n    export class RootMessageNames {\r\n        public static navigate = \"navigate\";\r\n        public static openNavigationPane = \"openNavigationPane\";\r\n    }\r\n\r\n}\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    const INNOVASYS_PREFIX_LENGTH = 2;\r\n\r\n    export class ResponsiveDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        private _pendingResponsiveFiles: string[] = [];\r\n        private _configuration: ResponsiveConfiguration = null;\r\n\r\n        public static pivotTable(table: HTMLElement): JQuery<HTMLElement> {\r\n\r\n            const sourceTable: JQuery = $(table);\r\n            const container: JQuery = $(\"<div class=\\\"i-pivot-table-container\\\"></div>\");\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            const labels: any = {};\r\n            const pivotColumnIndex: number = sourceTable\r\n                .find(\"tr\")\r\n                .children(\"td.i-pivot-column, th.i-pivot-column\")\r\n                .first()\r\n                .index();\r\n\r\n            // No column found to pivot on so just return here\r\n            if (pivotColumnIndex === -1) {\r\n                return null;\r\n            }\r\n\r\n            // Get the labels for each new row in the new table for the first row in the source table\r\n            sourceTable\r\n                .find(\"tr:first-child\")\r\n                .children(\"td, th\")\r\n                .each((index, cell) => {\r\n                    labels[index.toString()] = $(cell).text();\r\n                });\r\n\r\n            sourceTable.find(\"tr\").each((index, row) => {\r\n                if (index > 0) {\r\n                    const newTable = $(\"<table class=\\\"i-pivot-table i-section-content\\\"></table>\") as JQuery<HTMLElement>;\r\n                    let header: JQuery;\r\n\r\n                    $(row)\r\n                        .children(\"td\")\r\n                        .each((cellIndex, cell) => {\r\n                            if (cellIndex === pivotColumnIndex) {\r\n                                header = $(`<div class=\"i-section-heading\"><span class=\"btn\">${$(cell).text()}</span></div>`);\r\n                            } else {\r\n                                // Add a new row for each column in the source table\r\n                                const newRow = $(`<tr><td>${labels[cellIndex.toString()]}</td></tr>`) as JQuery<HTMLElement>;\r\n                                $(cell)\r\n                                    .clone()\r\n                                    .appendTo(newRow as JQuery<HTMLTableRowElement>);\r\n                                newRow.find(\"td a\").addClass(\"btn btn-mini btn-xs\");\r\n                                newRow.appendTo(newTable);\r\n                            }\r\n                        });\r\n\r\n                    if (header != null) {\r\n                        header.appendTo(container);\r\n                    }\r\n                    newTable.appendTo(container);\r\n                }\r\n            });\r\n\r\n            return container;\r\n        }\r\n\r\n        public getName(): string {\r\n            return \"Responsive\";\r\n        }\r\n\r\n        public getFeatureSettings(): IResponsiveFeatureSettings {\r\n            return this.documentInstance.getFeatureSettings<IResponsiveFeatureSettings>(\"responsive\",\r\n                this.getDefaultFeatureSettings);\r\n        }\r\n\r\n        public getDefaultFeatureSettings(): IResponsiveFeatureSettings {\r\n            return {\r\n                isEnabled: false,\r\n                displayMode: null\r\n            };\r\n        }\r\n\r\n        public checkPendingResponsiveFilesLoad(loadedId: string): void {\r\n            this._pendingResponsiveFiles = $.map(this._pendingResponsiveFiles, (item: string): string => {\r\n                if (item === loadedId) {\r\n                    // This item now loaded, exclude from pending array\r\n                    return null;\r\n                } else {\r\n                    return item;\r\n                }\r\n            });\r\n            if (this._pendingResponsiveFiles.length === 0) {\r\n                // All loaded\r\n                this.onResponsiveFilesLoaded();\r\n            }\r\n        }\r\n\r\n        private isEnabled(): boolean {\r\n            return this.documentInstance.isResponsiveEnabled || this.getFeatureSettings().isEnabled;\r\n        }\r\n\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            if (isInitialLoad) {\r\n\r\n                const deviceType = this.getDeviceType().toLowerCase();\r\n\r\n                // Gather the responsive configuration\r\n                const configuration: ResponsiveConfiguration = this.documentInstance.getResponsiveConfiguration(deviceType);\r\n\r\n                if (this.isEnabled()) {\r\n                    switch (deviceType) {\r\n                        case \"mobile\":\r\n                            $(\".i-hidden-mobile, .i-visible-tablet, .i-visible-desktop\").css(\"display\", \"none\");\r\n                            break;\r\n                        case \"tablet\":\r\n                            $(\".i-hidden-tablet, .i-visible-mobile, .i-visible-desktop\").css(\"display\", \"none\");\r\n                            break;\r\n                        case \"desktop\":\r\n                            $(\".i-hidden-desktop, .i-visible-mobile, .i-visible-tablet\").css(\"display\", \"none\");\r\n                            break;\r\n                        // No default\r\n                    }\r\n\r\n                    if (deviceType !== \"desktop\") {\r\n\r\n                        // Find and add any stylesheets with data-responsive-{profileName} attributes\r\n                        $(`link[data-responsive-${deviceType}]`).each((index: number, stylesheet: Element) => {\r\n                            const responsiveStylesheets = $(stylesheet).attr(`data-responsive-${deviceType}`);\r\n                            if (responsiveStylesheets != null) {\r\n                                // Defer setting body visible while we wait for our custom stylesheet to load\r\n                                this.documentInstance.setBodyVisibleAfterLoadComplete = false;\r\n                                $.each(responsiveStylesheets.split(\",\"), (_: number, url: string) => {\r\n                                    // Give the stylesheet a link so we can remove it later if the responsive style changes\r\n                                    this._pendingResponsiveFiles.push(\r\n                                        Browser.loadStylesheet(\r\n                                            url,\r\n                                            `data-responsive-${deviceType}`,\r\n                                            \"responsive-marker\",\r\n                                            (stylesheetId: string): void => {\r\n                                                this.checkPendingResponsiveFilesLoad(stylesheetId);\r\n                                            }));\r\n                                });\r\n                            }\r\n                        });\r\n\r\n                        // Find any stylesheet references stored in css/responsive script tags\r\n                        $(\"script[type='i-url-container/css']\").each((index: number, scriptElement: Element) => {\r\n                            const scriptContainer = $(scriptElement);\r\n                            const displayModes: string = scriptContainer.data(\"responsive-display-modes\");\r\n                            if (displayModes != null && displayModes.toLowerCase().indexOf(deviceType) !== -1) {\r\n                                const url: string = $.trim(scriptContainer.html());\r\n                                this.documentInstance.setBodyVisibleAfterLoadComplete = false;\r\n                                // Give the stylesheet a link so we can remove it later if the responsive style changes\r\n                                this._pendingResponsiveFiles.push(\r\n                                    Browser.loadStylesheet(url,\r\n                                        `data-responsive-${deviceType}`,\r\n                                        \"responsive-marker\",\r\n                                        (stylesheetId: string): void => {\r\n                                            this.checkPendingResponsiveFilesLoad(stylesheetId);\r\n                                        }));\r\n                            }\r\n                        });\r\n\r\n\r\n                        // Find any script references stored in css/responsive script tags\r\n                        $(\"script[type='i-url-container/script']\").each((index: number, scriptElement: Element) => {\r\n                            const scriptContainer = $(scriptElement);\r\n                            const displayModes: string = scriptContainer.data(\"responsive-display-modes\");\r\n                            if (displayModes != null && displayModes.toLowerCase().indexOf(deviceType) !== -1) {\r\n                                const url: string = $.trim(scriptContainer.html());\r\n                                this.documentInstance.setBodyVisibleAfterLoadComplete = false;\r\n                                // Give the stylesheet a link so we can remove it later if the responsive style changes\r\n                                this._pendingResponsiveFiles.push(\r\n                                    Browser.loadScript(url,\r\n                                        `data-responsive-${deviceType}`,\r\n                                        \"responsive-marker\",\r\n                                        (scriptId: string): void => {\r\n                                            this.checkPendingResponsiveFilesLoad(scriptId);\r\n                                        }));\r\n                            }\r\n                        });\r\n\r\n                    }\r\n\r\n                    if (configuration.profileName === \"mobile\" || configuration.profileName === \"tablet\") {\r\n                        switch (configuration.profileName) {\r\n                            case \"mobile\":\r\n                                configuration.clickTargets.push(new ResponsiveClickTarget(\".i-link>a,\"\r\n                                    + \".i-member-link a\", ResponsiveClickTargetKind.block));\r\n                                configuration.clickTargets.push(new ResponsiveClickTarget(\"#i-actions-content .i-page-link,\"\r\n                                    + \"#i-actions-content .i-popup-link,\"\r\n                                    + \"#i-actions-content .i-function-link\", ResponsiveClickTargetKind.inline));\r\n                                break;\r\n                            case \"tablet\":\r\n                                configuration.clickTargets.push(new ResponsiveClickTarget(\".i-breadcrumbs-container a,\"\r\n                                    + \"#i-after-header-content .i-page-link,\"\r\n                                    + \"#i-after-header-content .i-popup-link,\"\r\n                                    + \"#i-after-header-content .i-function-link,\"\r\n                                    + \"#i-actions-content .i-page-link,\"\r\n                                    + \"#i-actions-content .i-popup-link,\"\r\n                                    + \"#i-actions-content .i-function-link\", ResponsiveClickTargetKind.inline));\r\n                                configuration.clickTargets.push(\r\n                                    new ResponsiveClickTarget(\"a[href='#top']\", ResponsiveClickTargetKind.block));\r\n                                break;\r\n                            // No default\r\n                        }\r\n\r\n                        // Add some default click targets - apply to both mobile and tablet\r\n                        configuration.clickTargets.push(new ResponsiveClickTarget(\"#i-footer-content>a,\"\r\n                            + \"#i-after-header-content .i-function-link\", ResponsiveClickTargetKind.inline));\r\n                        configuration.clickTargets.push(new ResponsiveClickTarget(\"#i-seealso-section-content a,\"\r\n                            + \".i-in-this-topic-container a\", ResponsiveClickTargetKind.block));\r\n\r\n                        // And default pivot tables\r\n                        configuration.tablesToPivot.push(new ResponsiveTable(\"table.pivot-table,table.i-pivot-table\"));\r\n                    }\r\n\r\n                }\r\n\r\n                this._configuration = configuration;\r\n\r\n                if (this._pendingResponsiveFiles.length === 0) {\r\n                    // No pending files, immediately apply\r\n                    this.onResponsiveFilesLoaded();\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        public initializeContentOrdinal(): number {\r\n            const CONTENT_ORDINAL = 999;\r\n\r\n            return CONTENT_ORDINAL;\r\n        }\r\n\r\n        public applyResponsiveConfiguration(configuration: ResponsiveConfiguration): void {\r\n            // Apply the custom click targets\r\n            $.each(configuration.clickTargets, (_: number, clickTarget: ResponsiveClickTarget) => {\r\n                this.applyClickTarget(clickTarget);\r\n            });\r\n\r\n            // Pivot tables\r\n            $.each(configuration.tablesToPivot, (_tableIndex: number, responsiveTable: ResponsiveTable) => {\r\n                $(responsiveTable.selector).each((_elementIndex: number, table: HTMLElement) => {\r\n                    const pivotDiv = ResponsiveDocumentFeature.pivotTable(table);\r\n                    if (pivotDiv != null) {\r\n                        if (responsiveTable.onAfterPivot != null) {\r\n                            responsiveTable.onAfterPivot($(table), pivotDiv);\r\n                        } else {\r\n                            $(table).replaceWith(pivotDiv);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n\r\n            // Wire up any responsive switches\r\n            $(\".i-responsive-switch\")\r\n                .off(\"click.responsive\")\r\n                .on(\"click.responsive\", (eventObject: JQueryEventObject) => {\r\n                    const displayMode: string = $(eventObject.currentTarget).data(\"i-responsive-mode\");\r\n                    if (displayMode !== \"\") {\r\n                        this.setForcedDisplayMode(displayMode);\r\n                        Browser.reload();\r\n                    }\r\n                });\r\n\r\n            $(\".i-responsive-select\")\r\n                .val(configuration.profileName)\r\n                .off(\"change.responsive\")\r\n                .on(\"change.responsive\",\r\n                    (eventObject: JQueryEventObject) => {\r\n                        const selectedValue = $(eventObject.currentTarget).val();\r\n                        if (selectedValue !== \"\") {\r\n                            this.setForcedDisplayMode(selectedValue as string);\r\n                            Browser.reload();\r\n                        }\r\n                    });\r\n        }\r\n\r\n        public onMessage(message: WindowMessage): void {\r\n            if (message) {\r\n                switch (message.messageType) {\r\n                    case DocumentMessageNames.insertNavigationHeader:\r\n                        this.insertNavigationHeader();\r\n                        break;\r\n                    case DocumentMessageNames.searchHighlightComplete:\r\n                        $(\"a#i-remove-highlighting\").css(\"display\", \"inline\");\r\n                        break;\r\n                    // No default\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        protected insertNavigationHeader(): void {\r\n\r\n            if ($(\"body > div.navigation-header\").length === 0) {\r\n\r\n                const header: JQuery = $(\"<div class=\\\"i-navigation-header\\\"><div class=\\\"i-inner-container\\\"></div></div>\");\r\n                const innercontainer: JQuery = header.find(\".i-inner-container\").first();\r\n\r\n                $(\"<a href=\\\"#\\\" id=\\\"i-nav-previous\\\"><i class=\\\"icon-arrow-left\\\"/></a>\")\r\n                    .appendTo(innercontainer);\r\n                $(\"<a href=\\\"#\\\" id=\\\"i-nav-index\\\"><i class=\\\"icon-list\\\"/></a>\")\r\n                    .appendTo(innercontainer);\r\n                $(\"<a href=\\\"#\\\" id=\\\"i-nav-toc\\\"><i class=\\\"icon-book\\\"/></a>\")\r\n                    .appendTo(innercontainer);\r\n                $(\"<a href=\\\"#\\\" id=\\\"i-nav-search\\\"><i class=\\\"icon-search\\\"/></a>\")\r\n                    .appendTo(innercontainer);\r\n                $(\"<a href=\\\"#\\\" id=\\\"i-nav-next\\\"><i class=\\\"icon-arrow-right\\\"/></a>\")\r\n                    .appendTo(innercontainer);\r\n                $(\"<a href=\\\"#\\\" id=\\\"i-remove-highlighting\\\" class=\\\"btn-warning\\\"><i class=\\\"icon-remove icon-white\\\"></i></a>\")\r\n                    .appendTo(innercontainer);\r\n\r\n                if ($(\".i-search-highlight\").length) {\r\n                    // Highlighted search items have been added to the body so show the remove highlights button\r\n                    innercontainer.children(\"#i-remove-highlighting\").css(\"display\", \"inline\");\r\n                }\r\n\r\n                innercontainer.children(\"a\")\r\n                    .off(\"click.responsive\")\r\n                    .on(\"click.responsive\", (eventObject: JQueryEventObject) => {\r\n                        const webframe = window.parent;\r\n                        if (typeof webframe != \"undefined\") {\r\n\r\n                            switch ($(eventObject.currentTarget).attr(\"id\")) {\r\n                                case \"i-nav-previous\":\r\n                                    Messaging.routeMessageToParentFrame(\r\n                                        RootMessageNames.navigate,\r\n                                        \"previous\");\r\n\r\n                                    break;\r\n                                case \"i-nav-next\":\r\n                                    Messaging.routeMessageToParentFrame(\r\n                                        RootMessageNames.navigate,\r\n                                        \"next\");\r\n\r\n                                    break;\r\n                                case \"i-nav-index\":\r\n                                case \"i-nav-toc\":\r\n                                case \"i-nav-search\":\r\n                                    let paneId: string = $(eventObject.currentTarget).attr(\"id\");\r\n                                    if (paneId.substring(0, INNOVASYS_PREFIX_LENGTH) === \"i-\") {\r\n                                        paneId = paneId.substring(INNOVASYS_PREFIX_LENGTH);\r\n                                    }\r\n                                    Messaging.routeMessageToParentFrame(RootMessageNames.openNavigationPane, paneId);\r\n                                    break;\r\n                                case \"i-remove-highlighting\":\r\n                                    // Instruct search highlighting to remove any existing highlights\r\n                                    this.documentInstance.processWindowMessage(\r\n                                        new WindowMessage(DocumentMessageNames.resetQuickSearch, null));\r\n                                    break;\r\n                                // No default\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                header.prependTo($(\"body\"));\r\n\r\n                if ($(\"html\").data(\"responsive-load-complete\") === true) {\r\n                    // Async load of responsive files already complete so make the body visible\r\n                    this.documentInstance.setBodyVisible();\r\n                    $(\"html\").data(\"responsive-load-complete\", null);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        protected applyClickTarget(clickTarget: ResponsiveClickTarget): void {\r\n            const buttonClassName: string\r\n                = (clickTarget.kind === ResponsiveClickTargetKind.inline) ? \"btn btn-mini btn-xs\" : \"btn\";\r\n            $(clickTarget.className).addClass(buttonClassName);\r\n        }\r\n\r\n        private getDeviceType(): string {\r\n\r\n            if (!this.isEnabled()) {\r\n                // Responsive disabled - always desktop\r\n                return \"DESKTOP\";\r\n            }\r\n\r\n            const forcedDisplayMode: string = this.getForcedDisplayMode();\r\n            if (forcedDisplayMode != null) {\r\n                return forcedDisplayMode;\r\n            }\r\n\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            if ((Modernizr as any).touch) {\r\n\r\n                if (Modernizr.mq(\"screen and (orientation: portrait) and (max-device-width: 600px)\")) {\r\n                    return \"MOBILE\";\r\n                } else if (Modernizr.mq(\"screen and (orientation: landscape) and (max-device-width: 767px)\")) {\r\n                    return \"MOBILE\";\r\n                } else {\r\n                    return \"TABLET\";\r\n                }\r\n\r\n            } else if (navigator.userAgent.indexOf(\"Windows Phone OS\") !== -1) {\r\n                // Specific check for windows phone as Modernizr returns false for the touch property\r\n                return \"MOBILE\";\r\n            }\r\n\r\n            return \"DESKTOP\";\r\n\r\n        }\r\n\r\n        /**\r\n         * Returns any forced display mode set by the containing frame.\r\n         */\r\n        private getForcedDisplayMode() {\r\n\r\n            const overrides: IOverrides = Browser.getCommonSettings();\r\n            if (typeof overrides.forcedDisplayMode != \"undefined\"\r\n                && overrides.forcedDisplayMode != null) {\r\n\r\n                return overrides.forcedDisplayMode;\r\n            }\r\n\r\n            if (this.getFeatureSettings().displayMode != null) {\r\n                return this.getFeatureSettings().displayMode;\r\n            }\r\n\r\n            const location = Browser.getLocationInfo();\r\n            if (location.hash === \"#ForceDisplayDesktop\") {\r\n                return \"DESKTOP\";\r\n            } else if (location.hash === \"#ForceDisplayMobile\") {\r\n                return \"MOBILE\";\r\n            } else if (location.hash === \"#ForceDisplayTablet\") {\r\n                return \"TABLET\";\r\n            }\r\n\r\n            // Only check local storage here if we are in a frame - the parent frame sets the local storage\r\n            // value for overriding the default behavior so we only need to check it if we are actually running\r\n            // in a frame\r\n            const currentPath: string =\r\n                location.pathname.substring(0, location.pathname.lastIndexOf(\"/\"));\r\n            const responsiveStorageId\r\n                = `innovasys-responsive-${currentPath.replace(/[^a-zA-Z0-9_\\-]/g, \"\")}`;\r\n            if (this.documentInstance.getLocalStorage().getAttribute(responsiveStorageId) != null) {\r\n                return this.documentInstance.getLocalStorage().getAttribute(responsiveStorageId);\r\n            }\r\n\r\n            return null;\r\n\r\n        }\r\n\r\n        /**\r\n         * Forces a specific responsive display mode when the document loads. The forced display mode is set in local storage\r\n         *  so will be used by all subsequent page loads until it is reset.\r\n         */\r\n        public setForcedDisplayMode(displayMode: string): void {\r\n            const location = Browser.getLocationInfo();\r\n            const currentPath: string = location.pathname.substring(0, location.pathname.lastIndexOf(\"/\"));\r\n            const responsiveStorageId\r\n                = `innovasys-responsive-${currentPath.replace(/[^a-zA-Z0-9_\\-]/g, \"\")}`;\r\n            this.documentInstance.getLocalStorage().setAttribute(responsiveStorageId, displayMode);\r\n        }\r\n\r\n        /**\r\n         * Called after responsive setup completes.\r\n         */\r\n        private onResponsiveFilesLoaded() {\r\n\r\n            const overrides: IOverrides = Browser.getCommonSettings();\r\n\r\n            this.documentInstance.applyResponsiveConfiguration(this._configuration);\r\n\r\n            if (this._configuration.profileName !== \"desktop\") {\r\n                if (!this.documentInstance.isContentDocument\r\n                    || overrides.navigationKind === \"inpage\"\r\n                    || $(\"body > div.i-navigation-header\").length !== 0) {\r\n\r\n                    // Navigation header already loaded, or not a content document or a page with\r\n                    //  inpage navigation so make the body visible;\r\n                    this.documentInstance.setBodyVisible();\r\n                } else {\r\n                    // Navigation header not loaded yet, add a flag here so that when the header has finished loaded it will make\r\n                    //  the body visible\r\n                    $(\"html\").data(\"responsive-load-complete\", true);\r\n                }\r\n            }\r\n\r\n            $(\"html\").addClass(`i-responsive-${this._configuration.profileName}`);\r\n\r\n        }\r\n    }\r\n\r\n    export interface IResponsiveFeatureSettings {\r\n        isEnabled: boolean;\r\n        displayMode: string;\r\n    }\r\n\r\n    export class ResponsiveDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new ResponsiveDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.ResponsiveDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class FixedToTopDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        private isPinned = false;\r\n        private readonly rootSelector: string;\r\n\r\n        public getName(): string {\r\n            return \"Fixed to Top\";\r\n        }\r\n\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            if ($(\".i-fixed-to-top\").length > 0) {\r\n                const scrollEventId = \"scroll.fixed-to-top\";\r\n                const resizeEventId = \"resize.fixed-to-top\";\r\n\r\n                setTimeout(() => this.refresh(), 1);\r\n\r\n                $(window)\r\n                    .off(scrollEventId)\r\n                    .on(scrollEventId, () => this.refresh())\r\n                    .off(resizeEventId)\r\n                    .on(resizeEventId, () => this.refresh());\r\n            }\r\n\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public applyResponsiveConfiguration(configuration: ResponsiveConfiguration): void {\r\n            setTimeout(() => this.refresh(), 1);\r\n        }\r\n\r\n        private refresh(): void {\r\n            const bodyTop = this.getBodyContentPosition();\r\n\r\n            const $fixedToTop = $(\".i-fixed-to-top\");\r\n\r\n            const scrollTop = $(window).scrollTop();\r\n            const isPinnedNewValue = (scrollTop > bodyTop);\r\n\r\n            if (this.isPinned !== isPinnedNewValue) {\r\n                this.isPinned = isPinnedNewValue;\r\n                $fixedToTop.toggleClass(\"i-is-fixed\", isPinnedNewValue);\r\n\r\n                if (this.isPinned) {\r\n                    $fixedToTop.css(\"top\", \"0\");\r\n                }\r\n            }\r\n\r\n            if (!this.isPinned) {\r\n                const topValue = bodyTop - scrollTop;\r\n                $(\".i-fixed-to-top\").css(\"top\", topValue > 0 ? `${topValue}px` : \"\");\r\n            }\r\n        }\r\n\r\n        private getBodyContentPosition(): number {\r\n            const bodyContentPosition = $(\"#i-body-content-container\", this.rootSelector).position();\r\n            if (bodyContentPosition != null) {\r\n                return bodyContentPosition.top;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    export class FixedToTopDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new FixedToTopDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.FixedToTopDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class ThemeDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        private _rootSelector: JQuery;\r\n\r\n        public getName(): string {\r\n            return \"Theme\";\r\n        }\r\n\r\n        private getDefaultSettings(): IThemeFeatureSettings {\r\n            return {\r\n                defaultThemeOption: null,\r\n                isThemeSelectionEnabled: false\r\n            };\r\n        }\r\n\r\n        private getFeatureSettings(): IThemeFeatureSettings {\r\n            return this.documentInstance.getFeatureSettings<IThemeFeatureSettings>(\"theme\", this.getDefaultSettings);\r\n        }\r\n\r\n        /* eslint @typescript-eslint/no-unused-vars: \"off\" */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            this._rootSelector = rootSelector;\r\n\r\n            const settings = this.getFeatureSettings();\r\n\r\n            if (settings.isThemeSelectionEnabled) {\r\n                $(\".i-theme-select\", rootSelector)\r\n                    .off(\"change.theme\")\r\n                    .on(\"change.theme\",\r\n                    (eventObject: JQueryEventObject) => {\r\n                        const themeName = $(eventObject.currentTarget).data(\"theme-name\");\r\n                        const stylesheetUrl = $(eventObject.currentTarget).val() as string;\r\n                        const themeOption = $(`option[value='${stylesheetUrl}']`, $(eventObject.currentTarget)).data(\"theme-option\");\r\n                        this.onThemeSelected(themeName, themeOption, stylesheetUrl, true);\r\n                    });\r\n            }\r\n\r\n            $(\".i-theme-select\", rootSelector).each((index: number, element: Element) => {\r\n                const $element = $(element);\r\n                const themeName = $element.data(\"theme-name\");\r\n\r\n                if (themeName != null) {\r\n                    let themeOptionToApply: string = this.documentInstance.getLocalStorage()\r\n                        .getAttribute(`i-theme-${themeName}`);\r\n                    if (themeOptionToApply == null) {\r\n                        themeOptionToApply = settings.defaultThemeOption;\r\n                    }\r\n                    if (themeOptionToApply != null) {\r\n                        const themeOption = $(`option[data-theme-option='${themeOptionToApply}']`, $element);\r\n                        if (themeOption.length > 0) {\r\n                            $element.val(themeOption.val());\r\n                            this.onThemeSelected(themeName, themeOptionToApply, themeOption.val() as string, false);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            if (!settings.isThemeSelectionEnabled) {\r\n                $(\".i-theme-selection-container\").hide();\r\n            } else {\r\n                $(\".i-theme-selection-container\").show();\r\n            }\r\n\r\n        }\r\n\r\n        private onThemeSelected(themeName: string, themeValue: string, stylesheetUrl: string, saveSelection: boolean) {\r\n            // Remove any existing theme stylesheets\r\n            const existingStylesheets = $(`link[data-theme-name='${themeName}']`);\r\n            existingStylesheets.remove();\r\n            // Add the new one (if not \"none\")\r\n            if (stylesheetUrl !== \"none\") {\r\n                $(\"head\").append(`<link rel=\"stylesheet\" href=\"${stylesheetUrl}\" type=\"text/css\" data-theme-name=\"${themeName}\" />`);\r\n            }\r\n            // Add a class to the root\r\n            $(\".i-theme-select option\", this._rootSelector).each((index: number, element: Element) => {\r\n                const optionValue = $(element).data(\"theme-option\");\r\n                $(\"html\").toggleClass(`i-theme-${themeName}-${optionValue}`, optionValue === themeValue);\r\n            });\r\n            if (saveSelection) {\r\n                // Save as the current preference\r\n                this.documentInstance.getLocalStorage().setAttribute(`i-theme-${themeName}`, themeValue);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    export interface IThemeFeatureSettings {\r\n        defaultThemeOption: string;\r\n        isThemeSelectionEnabled: boolean;\r\n    }\r\n\r\n    export class ThemeDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new ThemeDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.ThemeDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class DynamicStylesDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        private _rootSelector: JQuery;\r\n        private _addedStyles: { dynamicWordBreak: number } = { dynamicWordBreak: null };\r\n\r\n        public getName(): string {\r\n            return \"DynamicStyles\";\r\n        }\r\n\r\n        private getDefaultSettings(): IDynamicStylesFeatureSettings {\r\n            return {\r\n                isDynamicWordWrapEnabled: false,\r\n                isDynamicWordWrapUpdateOnResizeEnabled: true\r\n            };\r\n        }\r\n\r\n        private getFeatureSettings(): IDynamicStylesFeatureSettings {\r\n            return this.documentInstance.getFeatureSettings<IDynamicStylesFeatureSettings>(\"dynamicstyles\", this.getDefaultSettings);\r\n        }\r\n\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            if (isInitialLoad) {\r\n                this._rootSelector = rootSelector;\r\n            }\r\n\r\n            const settings = this.getFeatureSettings();\r\n            if (!settings.isDynamicWordWrapEnabled) {\r\n                return;\r\n            }\r\n\r\n            // No dynamic styles in compiled help or at design time\r\n            if (!Browser.isCompiledHelp() && !Browser.isDesignTime) {\r\n\r\n                const $bodyContent = $(\"#i-body-content\", this._rootSelector);\r\n\r\n                if ($bodyContent.length > 0) {\r\n                    setTimeout(() => {\r\n                        this.updateDynamicWordBreak();\r\n                    });\r\n\r\n                    if (settings.isDynamicWordWrapUpdateOnResizeEnabled) {\r\n                        $(window).off(\"resize.dynamicstyles\")\r\n                            .on(\"resize.dynamicstyles\",\r\n                                () => {\r\n                                    this.updateDynamicWordBreak();\r\n                                });\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        private updateDynamicWordBreak(): void {\r\n\r\n            const styleId = \"i-dynamic-word-break\";\r\n            const $bodyContent = $(\"#i-body-content\", this._rootSelector);\r\n            const bodyContent = $bodyContent.get(0);\r\n\r\n            if (this._addedStyles.dynamicWordBreak != null) {\r\n                // Style already added. If the current width is > applied width, remove and re-evaluate\r\n                if (bodyContent.offsetWidth > this._addedStyles.dynamicWordBreak) {\r\n                    $(`#${styleId}`).remove();\r\n                    this._addedStyles.dynamicWordBreak = null;\r\n                } else {\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if (bodyContent.offsetWidth < bodyContent.scrollWidth\r\n                && ($(\"table\", $bodyContent).length > 0)) {\r\n\r\n                this._addedStyles.dynamicWordBreak = bodyContent.offsetWidth;\r\n                const $dynamicStylesElement = Browser.getDynamicStyleContainer(styleId);\r\n                $dynamicStylesElement.html(\"td {word-break: break-all;}\");\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    export interface IDynamicStylesFeatureSettings {\r\n        isDynamicWordWrapEnabled: boolean;\r\n        isDynamicWordWrapUpdateOnResizeEnabled: boolean;\r\n    }\r\n\r\n    export class DynamicStylesDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new DynamicStylesDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.DynamicStylesDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class DarkModeDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        private readonly _optimalColors: Record<string, tinycolor.Instance> = {};\r\n\r\n        private findReadableColorOnDarkBackground(color: tinycolor.Instance): tinycolor.Instance {\r\n            if (this._optimalColors[color.toHex8String()]) {\r\n                return this._optimalColors[color.toHex8String()];\r\n            }\r\n\r\n            const maximumLightening = 100;\r\n            const lighteningIncrement = 1;\r\n            let resolvedColor: tinycolor.Instance;\r\n\r\n            for (let i = 1; i < maximumLightening; i += lighteningIncrement) {\r\n                const possibleColor = color.clone().lighten(i);\r\n                if (tinycolor.isReadable(possibleColor, \"#333\")) {\r\n                    resolvedColor = possibleColor;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (resolvedColor == null) {\r\n                resolvedColor = tinycolor(\"#ccc\");\r\n            }\r\n\r\n            this._optimalColors[color.toHex8String()] = resolvedColor;\r\n\r\n            return resolvedColor;\r\n        }\r\n\r\n        public getName(): string {\r\n            return \"DarkMode\";\r\n        }\r\n\r\n        private getDefaultSettings(): IDarkModeFeatureSettings {\r\n            return {\r\n                isEnabled: false,\r\n                isAlwaysDarkMode: false\r\n            };\r\n        }\r\n\r\n        private getFeatureSettings(): IDarkModeFeatureSettings {\r\n            return this.documentInstance.getFeatureSettings<IDarkModeFeatureSettings>(\"darkmode\", this.getDefaultSettings);\r\n        }\r\n\r\n        public initializeDocument(): void {\r\n\r\n            const settings = this.getFeatureSettings();\r\n\r\n            if (settings.isEnabled) {\r\n                if (settings.isAlwaysDarkMode) {\r\n                    $(\"html\").addClass(\"i-dark\");\r\n                } else {\r\n                    if (window.matchMedia) {\r\n                        const matchMediaQuery = window.matchMedia(\"(prefers-color-scheme: dark)\");\r\n                        const matchMediaListener = (queryList: MediaQueryList, isAddDarkModificationsDisabled: boolean = false) => {\r\n                            if (queryList.matches) {\r\n                                $(\"html\").addClass(\"i-dark\");\r\n                                if (!isAddDarkModificationsDisabled) {\r\n                                    this.addDarkModifications();\r\n                                }\r\n                            } else {\r\n                                if ($(\"html\").hasClass(\"i-dark\")) {\r\n                                    this.removeDarkModifications();\r\n                                    $(\"html\").removeClass(\"i-dark\");\r\n                                }\r\n                            }\r\n                        };\r\n                        matchMediaListener(matchMediaQuery, true);\r\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                        matchMediaQuery.addListener(matchMediaListener as any);\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad?: boolean): void {\r\n            if ($(\"html\").hasClass(\"i-dark\")) {\r\n                this.addDarkModifications();\r\n            }\r\n        }\r\n\r\n        private addDarkModifications(): void {\r\n            const $inlineColors = $(\"pre [style]\");\r\n            $inlineColors.each((_, element) => {\r\n                if (element.style.color) {\r\n                    const originalColor = tinycolor(element.style.color);\r\n                    const color = this.findReadableColorOnDarkBackground(originalColor);\r\n                    if (color.toHex8String() !== originalColor.toHex8String()) {\r\n                        $(element).data(\"i-original-color\", element.style.color);\r\n                        element.style.color = color.toHex8String();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        private removeDarkModifications(): void {\r\n            const $inlineColors = $(\"pre [style]\");\r\n            $inlineColors.each((_, element) => {\r\n                const $element = $(element);\r\n                if ($element.data(\"i-original-color\")) {\r\n                    element.style.color = $element.data(\"i-original-color\");\r\n                    $element.removeData(\"i-original-color\");\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    export interface IDarkModeFeatureSettings {\r\n        isEnabled: boolean;\r\n        isAlwaysDarkMode: boolean;\r\n    }\r\n\r\n    export class DarkModeDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new DarkModeDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.DarkModeDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    const replacementList = [\r\n        {'base':'A', 'letters':/[\\u0041\\u24B6\\uFF21\\u00C0\\u00C1\\u00C2\\u1EA6\\u1EA4\\u1EAA\\u1EA8\\u00C3\\u0100\\u0102\\u1EB0\\u1EAE\\u1EB4\\u1EB2\\u0226\\u01E0\\u00C4\\u01DE\\u1EA2\\u00C5\\u01FA\\u01CD\\u0200\\u0202\\u1EA0\\u1EAC\\u1EB6\\u1E00\\u0104\\u023A\\u2C6F]/g},\r\n        {'base':'AA','letters':/[\\uA732]/g},\r\n        {'base':'AE','letters':/[\\u00C6\\u01FC\\u01E2]/g},\r\n        {'base':'AO','letters':/[\\uA734]/g},\r\n        {'base':'AU','letters':/[\\uA736]/g},\r\n        {'base':'AV','letters':/[\\uA738\\uA73A]/g},\r\n        {'base':'AY','letters':/[\\uA73C]/g},\r\n        {'base':'B', 'letters':/[\\u0042\\u24B7\\uFF22\\u1E02\\u1E04\\u1E06\\u0243\\u0182\\u0181]/g},\r\n        {'base':'C', 'letters':/[\\u0043\\u24B8\\uFF23\\u0106\\u0108\\u010A\\u010C\\u00C7\\u1E08\\u0187\\u023B\\uA73E]/g},\r\n        {'base':'D', 'letters':/[\\u0044\\u24B9\\uFF24\\u1E0A\\u010E\\u1E0C\\u1E10\\u1E12\\u1E0E\\u0110\\u018B\\u018A\\u0189\\uA779]/g},\r\n        {'base':'DZ','letters':/[\\u01F1\\u01C4]/g},\r\n        {'base':'Dz','letters':/[\\u01F2\\u01C5]/g},\r\n        {'base':'E', 'letters':/[\\u0045\\u24BA\\uFF25\\u00C8\\u00C9\\u00CA\\u1EC0\\u1EBE\\u1EC4\\u1EC2\\u1EBC\\u0112\\u1E14\\u1E16\\u0114\\u0116\\u00CB\\u1EBA\\u011A\\u0204\\u0206\\u1EB8\\u1EC6\\u0228\\u1E1C\\u0118\\u1E18\\u1E1A\\u0190\\u018E]/g},\r\n        {'base':'F', 'letters':/[\\u0046\\u24BB\\uFF26\\u1E1E\\u0191\\uA77B]/g},\r\n        {'base':'G', 'letters':/[\\u0047\\u24BC\\uFF27\\u01F4\\u011C\\u1E20\\u011E\\u0120\\u01E6\\u0122\\u01E4\\u0193\\uA7A0\\uA77D\\uA77E]/g},\r\n        {'base':'H', 'letters':/[\\u0048\\u24BD\\uFF28\\u0124\\u1E22\\u1E26\\u021E\\u1E24\\u1E28\\u1E2A\\u0126\\u2C67\\u2C75\\uA78D]/g},\r\n        {'base':'I', 'letters':/[\\u0049\\u24BE\\uFF29\\u00CC\\u00CD\\u00CE\\u0128\\u012A\\u012C\\u0130\\u00CF\\u1E2E\\u1EC8\\u01CF\\u0208\\u020A\\u1ECA\\u012E\\u1E2C\\u0197]/g},\r\n        {'base':'J', 'letters':/[\\u004A\\u24BF\\uFF2A\\u0134\\u0248]/g},\r\n        {'base':'K', 'letters':/[\\u004B\\u24C0\\uFF2B\\u1E30\\u01E8\\u1E32\\u0136\\u1E34\\u0198\\u2C69\\uA740\\uA742\\uA744\\uA7A2]/g},\r\n        {'base':'L', 'letters':/[\\u004C\\u24C1\\uFF2C\\u013F\\u0139\\u013D\\u1E36\\u1E38\\u013B\\u1E3C\\u1E3A\\u0141\\u023D\\u2C62\\u2C60\\uA748\\uA746\\uA780]/g},\r\n        {'base':'LJ','letters':/[\\u01C7]/g},\r\n        {'base':'Lj','letters':/[\\u01C8]/g},\r\n        {'base':'M', 'letters':/[\\u004D\\u24C2\\uFF2D\\u1E3E\\u1E40\\u1E42\\u2C6E\\u019C]/g},\r\n        {'base':'N', 'letters':/[\\u004E\\u24C3\\uFF2E\\u01F8\\u0143\\u00D1\\u1E44\\u0147\\u1E46\\u0145\\u1E4A\\u1E48\\u0220\\u019D\\uA790\\uA7A4]/g},\r\n        {'base':'NJ','letters':/[\\u01CA]/g},\r\n        {'base':'Nj','letters':/[\\u01CB]/g},\r\n        {'base':'O', 'letters':/[\\u004F\\u24C4\\uFF2F\\u00D2\\u00D3\\u00D4\\u1ED2\\u1ED0\\u1ED6\\u1ED4\\u00D5\\u1E4C\\u022C\\u1E4E\\u014C\\u1E50\\u1E52\\u014E\\u022E\\u0230\\u00D6\\u022A\\u1ECE\\u0150\\u01D1\\u020C\\u020E\\u01A0\\u1EDC\\u1EDA\\u1EE0\\u1EDE\\u1EE2\\u1ECC\\u1ED8\\u01EA\\u01EC\\u00D8\\u01FE\\u0186\\u019F\\uA74A\\uA74C]/g},\r\n        {'base':'OI','letters':/[\\u01A2]/g},\r\n        {'base':'OO','letters':/[\\uA74E]/g},\r\n        {'base':'OU','letters':/[\\u0222]/g},\r\n        {'base':'P', 'letters':/[\\u0050\\u24C5\\uFF30\\u1E54\\u1E56\\u01A4\\u2C63\\uA750\\uA752\\uA754]/g},\r\n        {'base':'Q', 'letters':/[\\u0051\\u24C6\\uFF31\\uA756\\uA758\\u024A]/g},\r\n        {'base':'R', 'letters':/[\\u0052\\u24C7\\uFF32\\u0154\\u1E58\\u0158\\u0210\\u0212\\u1E5A\\u1E5C\\u0156\\u1E5E\\u024C\\u2C64\\uA75A\\uA7A6\\uA782]/g},\r\n        {'base':'S', 'letters':/[\\u0053\\u24C8\\uFF33\\u1E9E\\u015A\\u1E64\\u015C\\u1E60\\u0160\\u1E66\\u1E62\\u1E68\\u0218\\u015E\\u2C7E\\uA7A8\\uA784]/g},\r\n        {'base':'T', 'letters':/[\\u0054\\u24C9\\uFF34\\u1E6A\\u0164\\u1E6C\\u021A\\u0162\\u1E70\\u1E6E\\u0166\\u01AC\\u01AE\\u023E\\uA786]/g},\r\n        {'base':'TZ','letters':/[\\uA728]/g},\r\n        {'base':'U', 'letters':/[\\u0055\\u24CA\\uFF35\\u00D9\\u00DA\\u00DB\\u0168\\u1E78\\u016A\\u1E7A\\u016C\\u00DC\\u01DB\\u01D7\\u01D5\\u01D9\\u1EE6\\u016E\\u0170\\u01D3\\u0214\\u0216\\u01AF\\u1EEA\\u1EE8\\u1EEE\\u1EEC\\u1EF0\\u1EE4\\u1E72\\u0172\\u1E76\\u1E74\\u0244]/g},\r\n        {'base':'V', 'letters':/[\\u0056\\u24CB\\uFF36\\u1E7C\\u1E7E\\u01B2\\uA75E\\u0245]/g},\r\n        {'base':'VY','letters':/[\\uA760]/g},\r\n        {'base':'W', 'letters':/[\\u0057\\u24CC\\uFF37\\u1E80\\u1E82\\u0174\\u1E86\\u1E84\\u1E88\\u2C72]/g},\r\n        {'base':'X', 'letters':/[\\u0058\\u24CD\\uFF38\\u1E8A\\u1E8C]/g},\r\n        {'base':'Y', 'letters':/[\\u0059\\u24CE\\uFF39\\u1EF2\\u00DD\\u0176\\u1EF8\\u0232\\u1E8E\\u0178\\u1EF6\\u1EF4\\u01B3\\u024E\\u1EFE]/g},\r\n        {'base':'Z', 'letters':/[\\u005A\\u24CF\\uFF3A\\u0179\\u1E90\\u017B\\u017D\\u1E92\\u1E94\\u01B5\\u0224\\u2C7F\\u2C6B\\uA762]/g},\r\n        {'base':'a', 'letters':/[\\u0061\\u24D0\\uFF41\\u1E9A\\u00E0\\u00E1\\u00E2\\u1EA7\\u1EA5\\u1EAB\\u1EA9\\u00E3\\u0101\\u0103\\u1EB1\\u1EAF\\u1EB5\\u1EB3\\u0227\\u01E1\\u00E4\\u01DF\\u1EA3\\u00E5\\u01FB\\u01CE\\u0201\\u0203\\u1EA1\\u1EAD\\u1EB7\\u1E01\\u0105\\u2C65\\u0250]/g},\r\n        {'base':'aa','letters':/[\\uA733]/g},\r\n        {'base':'ae','letters':/[\\u00E6\\u01FD\\u01E3]/g},\r\n        {'base':'ao','letters':/[\\uA735]/g},\r\n        {'base':'au','letters':/[\\uA737]/g},\r\n        {'base':'av','letters':/[\\uA739\\uA73B]/g},\r\n        {'base':'ay','letters':/[\\uA73D]/g},\r\n        {'base':'b', 'letters':/[\\u0062\\u24D1\\uFF42\\u1E03\\u1E05\\u1E07\\u0180\\u0183\\u0253]/g},\r\n        {'base':'c', 'letters':/[\\u0063\\u24D2\\uFF43\\u0107\\u0109\\u010B\\u010D\\u00E7\\u1E09\\u0188\\u023C\\uA73F\\u2184]/g},\r\n        {'base':'d', 'letters':/[\\u0064\\u24D3\\uFF44\\u1E0B\\u010F\\u1E0D\\u1E11\\u1E13\\u1E0F\\u0111\\u018C\\u0256\\u0257\\uA77A]/g},\r\n        {'base':'dz','letters':/[\\u01F3\\u01C6]/g},\r\n        {'base':'e', 'letters':/[\\u0065\\u24D4\\uFF45\\u00E8\\u00E9\\u00EA\\u1EC1\\u1EBF\\u1EC5\\u1EC3\\u1EBD\\u0113\\u1E15\\u1E17\\u0115\\u0117\\u00EB\\u1EBB\\u011B\\u0205\\u0207\\u1EB9\\u1EC7\\u0229\\u1E1D\\u0119\\u1E19\\u1E1B\\u0247\\u025B\\u01DD]/g},\r\n        {'base':'f', 'letters':/[\\u0066\\u24D5\\uFF46\\u1E1F\\u0192\\uA77C]/g},\r\n        {'base':'g', 'letters':/[\\u0067\\u24D6\\uFF47\\u01F5\\u011D\\u1E21\\u011F\\u0121\\u01E7\\u0123\\u01E5\\u0260\\uA7A1\\u1D79\\uA77F]/g},\r\n        {'base':'h', 'letters':/[\\u0068\\u24D7\\uFF48\\u0125\\u1E23\\u1E27\\u021F\\u1E25\\u1E29\\u1E2B\\u1E96\\u0127\\u2C68\\u2C76\\u0265]/g},\r\n        {'base':'hv','letters':/[\\u0195]/g},\r\n        {'base':'i', 'letters':/[\\u0069\\u24D8\\uFF49\\u00EC\\u00ED\\u00EE\\u0129\\u012B\\u012D\\u00EF\\u1E2F\\u1EC9\\u01D0\\u0209\\u020B\\u1ECB\\u012F\\u1E2D\\u0268\\u0131]/g},\r\n        {'base':'j', 'letters':/[\\u006A\\u24D9\\uFF4A\\u0135\\u01F0\\u0249]/g},\r\n        {'base':'k', 'letters':/[\\u006B\\u24DA\\uFF4B\\u1E31\\u01E9\\u1E33\\u0137\\u1E35\\u0199\\u2C6A\\uA741\\uA743\\uA745\\uA7A3]/g},\r\n        {'base':'l', 'letters':/[\\u006C\\u24DB\\uFF4C\\u0140\\u013A\\u013E\\u1E37\\u1E39\\u013C\\u1E3D\\u1E3B\\u017F\\u0142\\u019A\\u026B\\u2C61\\uA749\\uA781\\uA747]/g},\r\n        {'base':'lj','letters':/[\\u01C9]/g},\r\n        {'base':'m', 'letters':/[\\u006D\\u24DC\\uFF4D\\u1E3F\\u1E41\\u1E43\\u0271\\u026F]/g},\r\n        {'base':'n', 'letters':/[\\u006E\\u24DD\\uFF4E\\u01F9\\u0144\\u00F1\\u1E45\\u0148\\u1E47\\u0146\\u1E4B\\u1E49\\u019E\\u0272\\u0149\\uA791\\uA7A5]/g},\r\n        {'base':'nj','letters':/[\\u01CC]/g},\r\n        {'base':'o', 'letters':/[\\u006F\\u24DE\\uFF4F\\u00F2\\u00F3\\u00F4\\u1ED3\\u1ED1\\u1ED7\\u1ED5\\u00F5\\u1E4D\\u022D\\u1E4F\\u014D\\u1E51\\u1E53\\u014F\\u022F\\u0231\\u00F6\\u022B\\u1ECF\\u0151\\u01D2\\u020D\\u020F\\u01A1\\u1EDD\\u1EDB\\u1EE1\\u1EDF\\u1EE3\\u1ECD\\u1ED9\\u01EB\\u01ED\\u00F8\\u01FF\\u0254\\uA74B\\uA74D\\u0275]/g},\r\n        {'base':'oi','letters':/[\\u01A3]/g},\r\n        {'base':'ou','letters':/[\\u0223]/g},\r\n        {'base':'oo','letters':/[\\uA74F]/g},\r\n        {'base':'p','letters':/[\\u0070\\u24DF\\uFF50\\u1E55\\u1E57\\u01A5\\u1D7D\\uA751\\uA753\\uA755]/g},\r\n        {'base':'q','letters':/[\\u0071\\u24E0\\uFF51\\u024B\\uA757\\uA759]/g},\r\n        {'base':'r','letters':/[\\u0072\\u24E1\\uFF52\\u0155\\u1E59\\u0159\\u0211\\u0213\\u1E5B\\u1E5D\\u0157\\u1E5F\\u024D\\u027D\\uA75B\\uA7A7\\uA783]/g},\r\n        {'base':'s','letters':/[\\u0073\\u24E2\\uFF53\\u00DF\\u015B\\u1E65\\u015D\\u1E61\\u0161\\u1E67\\u1E63\\u1E69\\u0219\\u015F\\u023F\\uA7A9\\uA785\\u1E9B]/g},\r\n        {'base':'t','letters':/[\\u0074\\u24E3\\uFF54\\u1E6B\\u1E97\\u0165\\u1E6D\\u021B\\u0163\\u1E71\\u1E6F\\u0167\\u01AD\\u0288\\u2C66\\uA787]/g},\r\n        {'base':'tz','letters':/[\\uA729]/g},\r\n        {'base':'u','letters':/[\\u0075\\u24E4\\uFF55\\u00F9\\u00FA\\u00FB\\u0169\\u1E79\\u016B\\u1E7B\\u016D\\u00FC\\u01DC\\u01D8\\u01D6\\u01DA\\u1EE7\\u016F\\u0171\\u01D4\\u0215\\u0217\\u01B0\\u1EEB\\u1EE9\\u1EEF\\u1EED\\u1EF1\\u1EE5\\u1E73\\u0173\\u1E77\\u1E75\\u0289]/g},\r\n        {'base':'v','letters':/[\\u0076\\u24E5\\uFF56\\u1E7D\\u1E7F\\u028B\\uA75F\\u028C]/g},\r\n        {'base':'vy','letters':/[\\uA761]/g},\r\n        {'base':'w','letters':/[\\u0077\\u24E6\\uFF57\\u1E81\\u1E83\\u0175\\u1E87\\u1E85\\u1E98\\u1E89\\u2C73]/g},\r\n        {'base':'x','letters':/[\\u0078\\u24E7\\uFF58\\u1E8B\\u1E8D]/g},\r\n        {'base':'y','letters':/[\\u0079\\u24E8\\uFF59\\u1EF3\\u00FD\\u0177\\u1EF9\\u0233\\u1E8F\\u00FF\\u1EF7\\u1E99\\u1EF5\\u01B4\\u024F\\u1EFF]/g},\r\n        {'base':'z','letters':/[\\u007A\\u24E9\\uFF5A\\u017A\\u1E91\\u017C\\u017E\\u1E93\\u1E95\\u01B6\\u0225\\u0240\\u2C6C\\uA763]/g}\r\n    ];;\r\n\r\n\r\n\r\n    export class DiacriticsHelper {\r\n        /* eslint-disable-next-line no-useless-constructor */\r\n        constructor() {\r\n\r\n        }\r\n\r\n        public removeDiacritics (str : string) : string {\r\n            for(var i=0; i<replacementList.length; i++) {\r\n                str = str.replace(replacementList[i].letters, replacementList[i].base);\r\n            }\r\n        \r\n            return str;\r\n        }\r\n    }\r\n}","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class ChmCompatibilityDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"CHM Compatibility\";\r\n        }\r\n\r\n        public initializeDocument(): void {\r\n\r\n            const currentLocation = `${Browser.getLocationInfo().href}.`;\r\n            if (currentLocation.indexOf(\"ms-its:\") === 0) {\r\n                $(\"body\").addClass(\"i-chm i-compiled\");\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    export class ChmCompatibilityDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            const currentLocation = `${Browser.getLocationInfo().href}.`;\r\n            if (currentLocation.indexOf(\"mk:@MSITStore\") === 0 || currentLocation.indexOf(\"ms-its:\") === 0) {\r\n                return new ChmCompatibilityDocumentFeature(documentInstance);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.ChmCompatibilityDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class CopyCodeDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"Copy Code\";\r\n        }\r\n\r\n        private getSettings(): ICopyCodeFeatureSettings {\r\n            return this.documentInstance.getFeatureSettings(\"copycode\", this.getDefaultSettings);\r\n        }\r\n\r\n        private getDefaultSettings(): ICopyCodeFeatureSettings {\r\n            return {\r\n                copiedOkText: \"Copied to clipboard\",\r\n                copyError: \"Could not copy to clipboard\"\r\n            };\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            if ($(\".i-copy-code\").length > 0 || !Object.defineProperty) {\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                if (Browser.isCompiledHelp() || ((typeof ClipboardJS == \"undefined\") && ((window as any).clipboardData))) {\r\n\r\n                    const eventId = \"click.i-copy-code\";\r\n\r\n                    // In CHM and Help 2.x, or any old browser versions, use the inbuilt IE clipboard support\r\n                    rootSelector\r\n                        .off(eventId, \".i-copy-code\")\r\n                        .on(eventId,\r\n                            \".i-copy-code\",\r\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                            (eventObject: JQueryEventObject): any => {\r\n                                const textValue =\r\n                                    DomHelpers.getTextFromContainingTable(\r\n                                        eventObject.currentTarget as HTMLElement);\r\n                                try {\r\n                                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                                    (window as any).clipboardData.setData(\"Text\", textValue);\r\n                                    this.showTip(eventObject.currentTarget as HTMLElement, this.getSettings().copiedOkText);\r\n                                } catch (ex) {\r\n                                    this.showTip(eventObject.currentTarget as HTMLElement, this.getSettings().copyError);\r\n                                }\r\n                                Browser.stopPropagation(eventObject);\r\n                            });\r\n\r\n                } else {\r\n                    const clipboard = new ClipboardJS(\".i-copy-code\",\r\n                        {\r\n                            text: (trigger: HTMLElement) => DomHelpers.getTextFromContainingTable(trigger)\r\n                        });\r\n\r\n                    clipboard.on(\"success\",\r\n                        (e: ClipboardJS.Event) => {\r\n                            e.clearSelection();\r\n                            this.showTip(e.trigger as HTMLElement, this.getSettings().copiedOkText);\r\n                        });\r\n\r\n                    clipboard.on(\"error\",\r\n                        (e: ClipboardJS.Event) => {\r\n                            this.showTip(e.trigger as HTMLElement, this.getSettings().copyError);\r\n                        });\r\n                }\r\n            }\r\n        }\r\n\r\n        private showTip(target: HTMLElement, message: string) {\r\n            const tips = $(target)\r\n                .qtip({\r\n                    id: \"i-copytoclipboard-tip\",\r\n                    content: {\r\n                        text: message\r\n                    },\r\n                    position: {\r\n                        my: \"right center\",\r\n                        at: \"left center\"\r\n                    },\r\n                    show: {\r\n                        event: \"click\"\r\n                    },\r\n                    hide: {\r\n                        fixed: true,\r\n                        event: false\r\n                    }\r\n                });\r\n            const api = tips.qtip(\"api\");\r\n            api.toggle(true);\r\n            const DELAY = 2000;\r\n            setTimeout(() => {\r\n                api.toggle(false);\r\n            }, DELAY);\r\n        }\r\n\r\n        public populateResponsiveConfiguration(configuration: ResponsiveConfiguration): void {\r\n            switch (configuration.profileName) {\r\n                case \"tablet\":\r\n                    break;\r\n                case \"mobile\":\r\n                    break;\r\n                // No default\r\n            }\r\n            // Dropdown Header as a button\r\n            configuration.clickTargets.push(new ResponsiveClickTarget(\".i-copy-code\", ResponsiveClickTargetKind.inline));\r\n        }\r\n\r\n    }\r\n\r\n    export interface ICopyCodeFeatureSettings {\r\n        copiedOkText: string;\r\n        copyError: string;\r\n    }\r\n\r\n    export class CopyCodeDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new CopyCodeDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.CopyCodeDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    const highlightTextConstants = {\r\n        textNodeType: 3,\r\n        elementNodeType: 1\r\n    };\r\n\r\n    export class HighlightTextDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        // Stores the first found match so we can scroll to it\r\n        private _firstMatch: HTMLElement = null;\r\n        private _diacriticsHelper: DiacriticsHelper = null;\r\n\r\n\r\n        /**\r\n         * Merge any adjacent text nodes (left behind from search highlight)\r\n         * @param parentNode The node to start searching from.\r\n         */\r\n        private static cleanUpTextNodes(parentNode: Node): void {\r\n\r\n            let node: Node;\r\n            let lastNode: Node;\r\n            let mergeCount: number;\r\n\r\n            do {\r\n                mergeCount = 0;\r\n                for (let x = 1; x < parentNode.childNodes.length; x++) {\r\n                    node = parentNode.childNodes[x];\r\n                    lastNode = node.previousSibling;\r\n\r\n                    if (node.nodeType === highlightTextConstants.textNodeType\r\n                        && lastNode.nodeType === highlightTextConstants.textNodeType) {\r\n\r\n                        node.nodeValue = lastNode.nodeValue + node.nodeValue;\r\n                        parentNode.removeChild(lastNode);\r\n                        mergeCount++;\r\n                    }\r\n                }\r\n            } while (mergeCount > 0);\r\n\r\n            /* eslint-disable-next-line @typescript-eslint/prefer-for-of */\r\n            for (let x = 0; x < parentNode.childNodes.length; x++) {\r\n                HighlightTextDocumentFeature.cleanUpTextNodes(parentNode.childNodes[x]);\r\n            }\r\n\r\n        }\r\n\r\n        public getName(): string {\r\n            return \"Highlight Text\";\r\n        }\r\n\r\n        public onMessage(message: WindowMessage): void {\r\n            if (message != null) {\r\n                switch (message.messageType) {\r\n                    case DocumentMessageNames.quickSearch:\r\n                        this.highlightText(message.messageData);\r\n                        break;\r\n                    case DocumentMessageNames.resetQuickSearch:\r\n                        this.removeAllHighlights();\r\n                        break;\r\n                    case DocumentMessageNames.searchHighlightComplete:\r\n                        this.searchHighlightComplete();\r\n                        break;\r\n                    // No default\r\n                }\r\n            }\r\n        }\r\n\r\n        private highlightText(text: string) {\r\n            const rootElement: HTMLElement = this.documentInstance.rootElement;\r\n\r\n            if (text !== \"\") {\r\n                this.highlightTextInElement(rootElement, text);\r\n            }\r\n        }\r\n\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n            this._diacriticsHelper = new DiacriticsHelper;\r\n            if (isInitialLoad) {\r\n                const location = Browser.getLocationInfo();\r\n\r\n                if (location.search) {\r\n                    const prefix = \"?highlight=\";\r\n\r\n                    if (location.search.indexOf(prefix) === 0) {\r\n                        const keywords = decodeURIComponent(location.search.substring(prefix.length)).split(\",\");\r\n\r\n                        this.removeAllHighlights();\r\n\r\n                        for (const keyword of keywords) {\r\n                            if (keyword != null && keyword !== \"\") {\r\n                                this.highlightText(keyword);\r\n                            }\r\n                        }\r\n\r\n                        this.searchHighlightComplete();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        private searchHighlightComplete() {\r\n            // Scroll to the first hit if it's not already visible\r\n            if (this._firstMatch != null) {\r\n                const rootElement: HTMLElement = this.documentInstance.rootElement;\r\n                const ownerDocument: HTMLDocument = (rootElement.ownerDocument) as HTMLDocument;\r\n                if (DomHelpers.getElementPosition(this._firstMatch).top > ownerDocument.documentElement.scrollTop\r\n                    + ownerDocument.documentElement.clientHeight\r\n                    || DomHelpers.getElementPosition(this._firstMatch).top < ownerDocument.documentElement.scrollTop) {\r\n\r\n                    ownerDocument.documentElement.scrollTop = this._firstMatch.offsetTop;\r\n                }\r\n            }\r\n            this._firstMatch = null;\r\n        }\r\n\r\n        /**\r\n         * Finds some specific text and wraps with a search result highlight element.\r\n         * @param element The root element to search through.\r\n         * @param text The text to find.\r\n         */\r\n        public highlightTextInElement(element: HTMLElement, text: string): void {\r\n\r\n            let node: Node;\r\n            let nodeText: string;\r\n            let lowerCaseNodeText: string;\r\n            let highlightSpan: HTMLSpanElement;\r\n            let remainingText: Node;\r\n            const ownerDocument: HTMLDocument = (element.ownerDocument) as HTMLDocument;\r\n\r\n            let textdiacritics = this._diacriticsHelper.removeDiacritics(text);\r\n            const textRegExp = new RegExp(`(^|[\\\\b\\\\s]|[^\\\\w])(${this.escapeForRegExp(textdiacritics)})(?=$|[\\\\b\\\\s]|[^\\\\w])`, \"i\");\r\n\r\n            // Traverse the document backwards otherwise the DOM returns stale objects as\r\n            //  we make modifications\r\n            for (let x: number = element.childNodes.length - 1; x >= 0; x--) {\r\n\r\n                node = element.childNodes[x];\r\n\r\n                let checkedElementVisible = false;\r\n\r\n                // Text Node\r\n                if (node.nodeType === highlightTextConstants.textNodeType) {\r\n\r\n                    nodeText = node.nodeValue;\r\n                    lowerCaseNodeText = this._diacriticsHelper.removeDiacritics(nodeText.toLowerCase());\r\n\r\n                    let match: RegExpMatchArray;\r\n                    const newNodes: Node[] = [];\r\n\r\n                    while (nodeText.length > 0 && (match = lowerCaseNodeText.match(textRegExp)) !== null) {\r\n\r\n                        const pos = match.index + match[1].length;\r\n\r\n                        if (pos > 0) {\r\n                            // Text up to match\r\n                            newNodes.push(ownerDocument.createTextNode(nodeText.substring(0, pos)));\r\n                        }\r\n\r\n                        // Match highlight\r\n                        highlightSpan = (ownerDocument.createElement(\"SPAN\") as HTMLSpanElement);\r\n                        highlightSpan.className = \"i-search-highlight\";\r\n                        highlightSpan.appendChild(ownerDocument.createTextNode(nodeText.substring(pos, pos + text.length)));\r\n                        newNodes.push(highlightSpan);\r\n\r\n                        // Remainder\r\n                        nodeText = nodeText.substring(pos + text.length);\r\n                        lowerCaseNodeText = this._diacriticsHelper.removeDiacritics(nodeText.toLowerCase());\r\n\r\n                        // Store the first (last)hit so we can scroll to it\r\n                        this._firstMatch = highlightSpan;\r\n\r\n                        if (!checkedElementVisible) {\r\n                            // Delegate responsibility to the document and features\r\n                            this.documentInstance.ensureElementVisible(node.parentElement);\r\n\r\n                            checkedElementVisible = true;\r\n                        }\r\n                    }\r\n\r\n                    if (newNodes.length > 0) {\r\n                        if (nodeText.length > 0) {\r\n                            // Remainder after the last match\r\n                            newNodes.push(ownerDocument.createTextNode(nodeText));\r\n                        }\r\n\r\n                        for (const newNode of newNodes) {\r\n                            node.parentNode.insertBefore(newNode, node);\r\n                            if (this._firstMatch != null && node.nodeType === highlightTextConstants.elementNodeType) {\r\n                                this._firstMatch = node as HTMLSpanElement;\r\n                            }\r\n                        }\r\n\r\n                        node.parentNode.removeChild(node);\r\n                    }\r\n\r\n                } else if (node.nodeType === highlightTextConstants.elementNodeType) {\r\n                    // Element node\r\n\r\n                    const elementNode: HTMLElement = node as HTMLElement;\r\n                    // To ensure we don't modify script or go over\r\n                    //  highlights we have already applied\r\n                    if (elementNode.nodeName !== \"SCRIPT\"\r\n                        && !(elementNode.nodeName === \"SPAN\" && elementNode.className === \"i-search-highlight\")) {\r\n\r\n                        this.highlightTextInElement(elementNode, text);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Returns any search highlight spans in this document.\r\n         */\r\n        private getHighlightSpans(): JQuery {\r\n            return this.documentInstance.rootSelector.find(\".i-search-highlight\");\r\n        }\r\n\r\n        /**\r\n         * Remove any search highlight spans.\r\n         */\r\n        private removeAllHighlights(): void {\r\n\r\n            const spans: JQuery = this.getHighlightSpans();\r\n            spans.each((index: number, element: Element) => {\r\n                const span: JQuery<Element> = $(element);\r\n                span.replaceWith(span.html());\r\n            });\r\n\r\n            // This process may have resulted in multiple contiguous text nodes\r\n            //  which could cause problems with subsequent search highlight operations\r\n            // So we join any continguous text nodes here\r\n            HighlightTextDocumentFeature.cleanUpTextNodes(this.documentInstance.rootElement);\r\n\r\n            $(\"#i-remove-highlighting\").hide();\r\n\r\n        }\r\n\r\n        private escapeForRegExp(source: string): string {\r\n            return source.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\r\n        }\r\n\r\n    }\r\n\r\n    export class HighlightTextDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new HighlightTextDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.HighlightTextDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class MarkAsNewDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"Mark As New\";\r\n        }\r\n\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n            if (this.documentInstance.isNew && isInitialLoad) {\r\n                rootSelector.addClass(\"i-is-new\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    export class MarkAsNewDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new MarkAsNewDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.MarkAsNewDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    /**\r\n     * Handles any compatibility issues when content is served in Microsoft Help 2.x\r\n     */\r\n    export class Help2CompatibilityDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"Microsoft Help 2.x Compatibility\";\r\n        }\r\n\r\n        public initializeDocument(): void {\r\n            // Works around a jQuery setAttribute bug for a specific IE mode used by MSHV and Help 2.x (with IE11 installed)\r\n            Browser.checkForIe7ModeJqueryBug();\r\n\r\n            if (location.protocol === \"ms-help:\") {\r\n                $(\"body\").addClass(\"i-help2 i-compiled\");\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    export class Help2CompatibilityDocumentFeatureFactory implements IDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            if (location.protocol === \"ms-help:\") {\r\n                return new Help2CompatibilityDocumentFeature(documentInstance);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n// Register factory\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.Help2CompatibilityDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    const helpViewerCompatibilityConstants = {\r\n        urlSuffixLength: 5,\r\n        dotPrefixLength: 2\r\n    };\r\n\r\n    /**\r\n     * Handles any compatibility issues when content is served in Microsoft Help Viewer.\r\n     */\r\n    export class HelpViewerCompatibilityDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        private static readonly _pendingStylesheets: string[] = [];\r\n        private static _pendingStylesheetTimer: number = null;\r\n\r\n        /**\r\n         * Removes any referenced files that match the passed pattern (scripts and stylesheets).\r\n         * @param filename Filename pattern (regular expression).\r\n         * @param filetype Indicates the type of file (\"js\" or \"css\", so that we know what tags / attributes to look in.\r\n         */\r\n        private static removeExternalFile(filename: RegExp, filetype: string): void {\r\n            const targetTagName: string = (filetype === \"js\")\r\n                ? \"script\"\r\n                : (filetype === \"css\") ? \"link\" : \"none\";\r\n            const targetAttribute: string = (filetype === \"js\")\r\n                ? \"src\"\r\n                : (filetype === \"css\")\r\n                    ? \"href\"\r\n                    : \"none\";\r\n            $(targetTagName).each((_, element) => {\r\n                if ($(element)\r\n                    .attr(targetAttribute)\r\n                    .match(filename)) {\r\n\r\n                    element.parentNode.removeChild(element);\r\n                }\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Discovers the base url for resource requests so that we can fix up images etc.\r\n         */\r\n        private static resourceBaseUrl() {\r\n\r\n            if (Browser.isDesignTime) {\r\n                return \"\";\r\n            } else {\r\n                // Get the first script tag\r\n                const script: HTMLScriptElement = $(\"#mshs_support_script\").get(0) as HTMLScriptElement;\r\n\r\n                // Extract the src which is a full resource url to within our origin .mshc\r\n                const scriptSrc: string = script.src;\r\n\r\n                let scriptUrl: string;\r\n\r\n                if (HelpViewerCompatibilityDocumentFeature.isMicrosoftHelpViewerVersion2()) {\r\n                    // HV 2\r\n                    let startIndex = scriptSrc.indexOf(\"&id=\");\r\n                    scriptUrl = scriptSrc.substring(0, startIndex);\r\n                    startIndex = scriptSrc.indexOf(\"&\", startIndex + 1);\r\n                    scriptUrl = `${scriptUrl}${scriptSrc.substring(startIndex)}&id=`;\r\n                } else {\r\n                    // HV 1\r\n                    // Get the portion up to the ; (the base url for resource references)\r\n                    const startIndex: number = scriptSrc.indexOf(\";\") + 1;\r\n                    scriptUrl = scriptSrc.substring(0, startIndex);\r\n                }\r\n\r\n                return scriptUrl;\r\n            }\r\n        }\r\n\r\n        private static fixStyles(): void {\r\n\r\n            // Fix Javascript rules using urls\r\n            const stylesheets = document.styleSheets;\r\n            if (stylesheets && stylesheets.length > 0) {\r\n\r\n                // Waiting on any stylesheets to load?\r\n                if (HelpViewerCompatibilityDocumentFeature._pendingStylesheets.length !== 0) {\r\n                    for (const pendingStylesheetHref of HelpViewerCompatibilityDocumentFeature._pendingStylesheets) {\r\n                        let foundStylesheet = false;\r\n                        /* eslint-disable-next-line @typescript-eslint/prefer-for-of */\r\n                        for (let pendingStylesheetIndex = 0; pendingStylesheetIndex < (stylesheets.length); pendingStylesheetIndex++) {\r\n                            const pendingStylesheet = stylesheets[pendingStylesheetIndex];\r\n                            if (pendingStylesheet.href != null && pendingStylesheet.href === pendingStylesheetHref) {\r\n                                // Found the pending stylesheet - check that the rules have loaded\r\n                                let pendingRules: CSSRuleList;\r\n                                try {\r\n                                    if (pendingStylesheet.rules) {\r\n                                        pendingRules = pendingStylesheet.rules;\r\n                                    } else {\r\n                                        pendingRules = pendingStylesheet.cssRules;\r\n                                    }\r\n                                } catch (ex) {\r\n                                    //\r\n                                }\r\n\r\n                                if (pendingRules != null && pendingRules.length > 0) {\r\n                                    foundStylesheet = true;\r\n                                }\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (!foundStylesheet) {\r\n                            // Could not locate the stylesheet, try again in a bit\r\n                            if (HelpViewerCompatibilityDocumentFeature._pendingStylesheetTimer == null) {\r\n                                const retryInterval = 50;\r\n                                HelpViewerCompatibilityDocumentFeature._pendingStylesheetTimer\r\n                                    = window.setInterval(HelpViewerCompatibilityDocumentFeature.fixStyles, retryInterval);\r\n                            }\r\n\r\n                            return;\r\n                        }\r\n\r\n                    }\r\n                    if (HelpViewerCompatibilityDocumentFeature._pendingStylesheetTimer != null) {\r\n                        clearInterval(HelpViewerCompatibilityDocumentFeature._pendingStylesheetTimer);\r\n                        HelpViewerCompatibilityDocumentFeature._pendingStylesheetTimer = null;\r\n                    }\r\n                }\r\n\r\n                /* eslint-disable-next-line @typescript-eslint/prefer-for-of */\r\n                for (let stylesheetindex = 0; stylesheetindex < (stylesheets.length); stylesheetindex++) {\r\n                    const stylesheet = stylesheets[stylesheetindex];\r\n                    let rules: CSSRuleList;\r\n\r\n                    try {\r\n                        if (stylesheet.rules) {\r\n                            rules = stylesheet.rules;\r\n                        } else {\r\n                            rules = stylesheet.cssRules;\r\n                        }\r\n                    } catch (ex) {\r\n                        //\r\n                    }\r\n\r\n                    if (rules) {\r\n                        /* eslint-disable-next-line @typescript-eslint/prefer-for-of */\r\n                        for (let ruleindex = 0; ruleindex < rules.length; ruleindex++) {\r\n                            const rule: CSSStyleRule = rules[ruleindex] as CSSStyleRule;\r\n                            if (rule.style.backgroundImage) {\r\n                                const urlPrefixLength = 4;\r\n                                if (rule.style.backgroundImage.substring(0, urlPrefixLength) === \"url(\") {\r\n                                    let backgroundText = rule.style.backgroundImage;\r\n                                    let originalUrl: string = null;\r\n                                    if (rule.style.backgroundImage.indexOf(\"127.0.0.1\") !== -1) {\r\n                                        // Chrome - rule returned as full url\r\n                                        originalUrl = backgroundText.substring(\r\n                                            backgroundText.indexOf(\"/\", backgroundText.indexOf(\"127.0.0.1\")) +\r\n                                            helpViewerCompatibilityConstants.urlSuffixLength,\r\n                                            backgroundText.lastIndexOf(\")\"));\r\n                                    } else if (backgroundText.indexOf(\"../\") !== -1) {\r\n                                        // IE - rule returned as original, with a .. prefix\r\n                                        originalUrl = backgroundText.substring(\r\n                                            backgroundText.indexOf(\"../\") + helpViewerCompatibilityConstants.dotPrefixLength,\r\n                                            backgroundText.lastIndexOf(\")\"));\r\n                                    } else {\r\n                                        // Relative url\r\n                                        originalUrl = backgroundText.substring(0, backgroundText.lastIndexOf(\")\"));\r\n                                    }\r\n                                    originalUrl = originalUrl.replace(\"\\\"\", \"\");\r\n                                    const newUrl = `url(\\\"${HelpViewerCompatibilityDocumentFeature.resourceBaseUrl()}${originalUrl}\\\")`;\r\n                                    backgroundText = newUrl + backgroundText.substring(backgroundText.indexOf(\")\") + 1);\r\n                                    rule.style.backgroundImage = backgroundText;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Returns true if this page is executing in the context of the Microsoft Help Viewer (v1.x or v2.x).\r\n         */\r\n        public static isMicrosoftHelpViewer(): boolean {\r\n            return (location.protocol === \"ms-xhelp:\"\r\n                || location.href.indexOf(\"ms.help?\") !== -1\r\n                || location.href.indexOf(\"?method=page&\") !== -1);\r\n        }\r\n\r\n        /**\r\n         * Returns true if this page is executing in the context of the Microsoft Help Viewer v2.x.\r\n         */\r\n        public static isMicrosoftHelpViewerVersion2(): boolean {\r\n            const script = $(\"#mshs_support_script\").get(0) as HTMLScriptElement;\r\n            const scriptSrc = script.src;\r\n\r\n            return (scriptSrc.indexOf(\"method=asset\") !== -1);\r\n        }\r\n\r\n        /**\r\n         * Adjusts the passed url so that it is a valid Microsoft Help Viewer asset url when running under Microsoft Help Viewer.\r\n         */\r\n        public static fixUrl(url: string): string {\r\n            if (HelpViewerCompatibilityDocumentFeature.isMicrosoftHelpViewer()) {\r\n                let originalUrl: string;\r\n                if (url.indexOf(\"127.0.0.1\") !== -1) {\r\n                    // Chrome - rule returned as full url\r\n                    originalUrl = url.substring(url.indexOf(\"/\", url.indexOf(\"127.0.0.1\"))\r\n                        + helpViewerCompatibilityConstants.urlSuffixLength, url.length);\r\n\r\n                    originalUrl = originalUrl.replace(\"\\\"\", \"\");\r\n                } else if (url.indexOf(\"../\") !== -1) {\r\n                    // IE - rule returned as original, with a .. prefix\r\n                    originalUrl = url.substring(url.indexOf(\"../\") + helpViewerCompatibilityConstants.dotPrefixLength, url.lastIndexOf(\")\"));\r\n                    originalUrl = originalUrl.replace(\"\\\"\", \"\");\r\n                } else {\r\n                    // Relative url in MSHV 2.0\r\n                    originalUrl = url.replace(new RegExp(\"/\", \"g\"), \"\\\\\");\r\n                }\r\n                if (originalUrl.indexOf(\"/help/\") !== -1) {\r\n                    originalUrl =\r\n                        originalUrl.substring(\r\n                            originalUrl.indexOf(\"/\", originalUrl.indexOf(\"/help/\") + helpViewerCompatibilityConstants.urlSuffixLength),\r\n                            originalUrl.length);\r\n                }\r\n                const newUrl: string = HelpViewerCompatibilityDocumentFeature.resourceBaseUrl() + originalUrl;\r\n\r\n                return newUrl;\r\n            } else {\r\n                return url;\r\n            }\r\n        }\r\n\r\n        public getName(): string {\r\n            return \"Microsoft Help Viewer Compatibility\";\r\n        }\r\n\r\n        public initializeDocument(): void {\r\n            // Removes any unwanted branding files\r\n            HelpViewerCompatibilityDocumentFeature.removeExternalFile(/branding.*\\.css/g, \"css\");\r\n\r\n            // Fix urls in stylesheets\r\n            HelpViewerCompatibilityDocumentFeature.fixStyles();\r\n\r\n            // Works around a jQuery setAttribute bug for a specific IE mode used by MSHV and Help 2.x (with IE11 installed)\r\n            Browser.checkForIe7ModeJqueryBug();\r\n\r\n            if (HelpViewerCompatibilityDocumentFeature.isMicrosoftHelpViewer()) {\r\n                $(\"body\").addClass(\"i-mshv i-compiled\");\r\n            }\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootElement: JQuery): void {\r\n\r\n            // Fixes any content issues (e.g.link and resource url issues)\r\n\r\n            if (HelpViewerCompatibilityDocumentFeature.isMicrosoftHelpViewerVersion2()) {\r\n\r\n                // Microsoft Help Viewer 2.x (Visual Studio 2012+) patches\r\n\r\n                $(\"body\").hide();\r\n\r\n                // Standard url() references in stylesheets don't work in MSHV 2 so we have to reference\r\n                //  an additional stylesheet with alternate syntax\r\n                $(\"link\").each((_, element) => {\r\n                    const mshvStylesheet = $(element).attr(\"data-mshv2-stylesheet\");\r\n                    if (mshvStylesheet) {\r\n                        const newStylesheetHref = `ms-xhelp:///?;${mshvStylesheet}`;\r\n                        HelpViewerCompatibilityDocumentFeature._pendingStylesheets.push(newStylesheetHref);\r\n                        $(\"head\").append(`<link rel=\"stylesheet\" href=\"${newStylesheetHref}\" type=\"text/css\" />`);\r\n                    }\r\n                });\r\n\r\n                // Fix any id links to work around bug in VS 2012 RC Help Viewer\r\n                $(\"a\").each((_, element) => {\r\n                    const href = $(element).attr(\"href\");\r\n                    if (href && href.indexOf(\"ms-xhelp:///?id=\") !== -1) {\r\n                        $(element).attr(\"href\", href.replace(\"ms-xhelp:///?id=\", \"ms-xhelp:///?method=page&id=\"));\r\n                    }\r\n                });\r\n\r\n                Browser.showElement($(\"body\"), \"body\");\r\n\r\n            } else {\r\n\r\n                // Microsoft Help Viewer 1 (Visual Studio 2010) patches\r\n\r\n                // Standard url() references in stylesheets don't work in MSHV 2 so we have to reference\r\n                //  an additional stylesheet with alternate syntax for those references to work in MSHV 1\r\n                $(\"link\").each((_, element) => {\r\n                    const mshvStylesheet = $(element).attr(\"data-mshv1-stylesheet\");\r\n                    if (mshvStylesheet) {\r\n                        const newStylesheetHref = HelpViewerCompatibilityDocumentFeature.resourceBaseUrl() + mshvStylesheet;\r\n                        HelpViewerCompatibilityDocumentFeature._pendingStylesheets.push(newStylesheetHref);\r\n\r\n                        $(\"head\").append(`<link rel=\"stylesheet\" href=\"${newStylesheetHref}\" type=\"text/css\" />`);\r\n                    }\r\n                });\r\n\r\n                // Fix double line breaks\r\n                $(\"BR\")\r\n                    .filter((_, element) => $(element)\r\n                        .next()\r\n                        .is(\"BR\"))\r\n                    .remove();\r\n\r\n                // Fix bookmark links\r\n                $(\"A\").each((_, element) => {\r\n                    // Check for bookmark links - currently prefixed with the full page url\r\n                    const anchorHref = $(element).attr(\"href\");\r\n                    if (anchorHref && anchorHref.indexOf(\"#\") !== -1) {\r\n                        if (anchorHref.substring(0, anchorHref.indexOf(\"#\")) === location.href) {\r\n                            // Bookmark in this document\r\n                            $(element).attr(\"target\", \"_self\");\r\n                        }\r\n                    }\r\n                });\r\n\r\n                // Make sure stylesheets are all fixed up\r\n                HelpViewerCompatibilityDocumentFeature.fixStyles();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    export class HelpViewerCompatibilityDocumentFeatureFactory implements IDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            if (HelpViewerCompatibilityDocumentFeature.isMicrosoftHelpViewer()) {\r\n                return new HelpViewerCompatibilityDocumentFeature(documentInstance);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n// Register factory\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.HelpViewerCompatibilityDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class PopupLinksDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        protected static toNumber = (value: string): number => parseInt(value, 10) || 0;\r\n\r\n        protected static getElementPadding(query: JQuery<HTMLElement>): {\r\n            left: number;\r\n            top: number;\r\n            right: number;\r\n            bottom: number;\r\n        } {\r\n\r\n            return {\r\n                top: PopupLinksDocumentFeature.toNumber(query.css(\"padding-top\")),\r\n                bottom: PopupLinksDocumentFeature.toNumber(query.css(\"padding-bottom\")),\r\n                left: PopupLinksDocumentFeature.toNumber(query.css(\"padding-left\")),\r\n                right: PopupLinksDocumentFeature.toNumber(query.css(\"padding-right\"))\r\n            };\r\n\r\n        }\r\n\r\n        public getName(): string {\r\n            return \"Popup Links\";\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            // Configure any popup links\r\n            rootSelector.find(\".i-popup-link\").each((index: number, element: HTMLElement): void => {\r\n                this.configurePopupLink(element);\r\n            });\r\n\r\n        }\r\n\r\n        /**\r\n         * Configures an individual popup link element.\r\n         * @param element The element to configure as a popup link.\r\n         */\r\n        public configurePopupLink(element: HTMLElement): void {\r\n            const linkElement = $(element) as JQuery<HTMLElement>;\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            let content: any;\r\n            const contentSource = linkElement.attr(\"data-popup-contentsource\");\r\n            if (contentSource) {\r\n                // Get content from a jQuery selector\r\n                content = this.documentInstance.rootSelector.find(contentSource);\r\n            } else {\r\n                // Content declared inline\r\n                content = linkElement.attr(\"data-popup-content\");\r\n                if (content != null) {\r\n                    const r = /\\\\u([\\d\\w]{4})/gi;\r\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                    content = content.replace(r, (match: any, group: any) =>\r\n                        /* eslint-disable-next-line id-blacklist */\r\n                        String.fromCharCode(parseInt(group, 16)));\r\n                    content = content.replace(/\\\\n/g, \"\\n\").replace(/\\\\r/g, \"\\r\");\r\n                }\r\n            }\r\n            if (content != null) {\r\n                let showEvent = linkElement.attr(\"data-popup-showevent\");\r\n                if (!showEvent) {\r\n                    // Default show event to click\r\n                    showEvent = \"click\";\r\n                }\r\n                let titleText = linkElement.attr(\"data-popup-title\");\r\n                if (!titleText) {\r\n                    // Default title to link caption\r\n                    titleText = linkElement.text();\r\n                }\r\n                let classes = \"\";\r\n                const customClasses = linkElement.attr(\"data-popup-classes\");\r\n                if (customClasses) {\r\n                    // Custom coloring or effect class\r\n                    classes = `${classes} ${customClasses}`;\r\n                }\r\n                let adjustX = 0;\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                if (PopupLinksDocumentFeature.getElementPadding(linkElement).left !== 0) {\r\n                    // Adjust the padding of the tip by the same amount as the link element padding\r\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                    adjustX = PopupLinksDocumentFeature.getElementPadding(linkElement).left;\r\n                }\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                const showOptions = { event: showEvent } as any;\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                const hideOptions = { delay: 500, fixed: true } as any;\r\n                if (Browser.isAnimationDisabled) {\r\n                    showOptions.effect = false;\r\n                    hideOptions.effect = false;\r\n                }\r\n                linkElement.qtip({\r\n                    content: {\r\n                        text: content,\r\n                        title: { text: titleText }\r\n                    },\r\n                    position: {\r\n                        my: \"top left\",\r\n                        at: \"bottom left\",\r\n                        adjust: { x: adjustX },\r\n                        viewport: $(window) as unknown as JQuery<HTMLElement>,\r\n                        container: this.documentInstance.rootSelector\r\n                    },\r\n                    show: showOptions,\r\n                    hide: hideOptions,\r\n                    events: {\r\n                        render: (event: Event, api: QTip2.Api) => {\r\n                            // Sets up bindings for click events on checkboxes contained on the popup\r\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                            const tooltip = (api as any).elements.tooltip;\r\n                            this.onPopupRender(tooltip);\r\n                        }\r\n                    },\r\n                    style: {\r\n                        classes\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        protected onPopupRender(element: JQuery): void {\r\n            this.documentInstance.initializeContent(element);\r\n        }\r\n\r\n    }\r\n\r\n    export class PopupLinksDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new PopupLinksDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.PopupLinksDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    const quirksModeConstants = {\r\n        msie8Version: 8\r\n    };\r\n\r\n    export class QuirksModeCompatibilityDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"Quirks Mode Compatibility\";\r\n        }\r\n\r\n        public initializeDocument(): void {\r\n\r\n            // Prevent expand flickering when IE or CHM running in quirks mode\r\n            if (Browser.getCompatMode() !== \"CSS1Compat\") {\r\n                // Define overriding method.\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                (jQuery.fx as any).prototype.hide = function() {\r\n                    // Remember where we started, so that we can go back to it later\r\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                    this.options.orig[this.prop] = (jQuery as any).style(this.elem, this.prop);\r\n                    this.options.hide = true;\r\n\r\n                    // Begin the animation\r\n                    this.custom(this.cur(), 1);\r\n                };\r\n            }\r\n\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            if (Browser.isDesignTime) {\r\n                return;\r\n            }\r\n\r\n            // Fix quirks mode rendering issues\r\n            if (Browser.getCompatMode() !== \"CSS1Compat\"\r\n                || Browser.info.name === \"msie\" && Browser.info.version <= quirksModeConstants.msie8Version) {\r\n\r\n                // Quirks mode without first-child support\r\n                const addFirstChildClassNames = (Browser.getCompatMode() !== \"CSS1Compat\");\r\n\r\n                const contentSections =\r\n                    rootSelector.find(\r\n                        \".i-section-content,.i-description-content,.i-returns-content,.i-description,.i-box-content\");\r\n                contentSections.each((_, element) => {\r\n                    if (addFirstChildClassNames) {\r\n                        $(element)\r\n                            .children()\r\n                            .first()\r\n                            .addClass(\"i-first-child\");\r\n                    }\r\n                    $(element)\r\n                        .children()\r\n                        .last()\r\n                        .addClass(\"i-last-child\");\r\n                });\r\n\r\n                if (addFirstChildClassNames) {\r\n                    rootSelector.find(\"table.i-syntax-table th:first-child\").addClass(\"i-first-child\");\r\n                    rootSelector.find(\"td>p:first-child\").addClass(\"i-first-child\");\r\n                }\r\n                rootSelector.find(\"table.i-syntax-table th:last-child\").addClass(\"i-last-child\");\r\n                rootSelector.find(\"td>p:last-child\").addClass(\"i-last-child\");\r\n\r\n                rootSelector.find(\"p+p\").addClass(\"i-adjacent-paragraph\");\r\n                rootSelector.find(\"h4+.i-returns-content\").addClass(\"i-returns-content-after-heading\");\r\n                rootSelector.find(\".i-example-section-content p+div\").addClass(\"i-example-after-paragraph\");\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    export class QuirksModeCompatibilityDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            const msIeVersion: number = Browser.msIeVersion();\r\n\r\n            if (Browser.getCompatMode() !== \"CSS1Compat\" || (msIeVersion > 0 && msIeVersion <= quirksModeConstants.msie8Version)) {\r\n                // Quirks mode feature is active if running in compatibility mode or IE8 or lower\r\n                return new QuirksModeCompatibilityDocumentFeature(documentInstance);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.QuirksModeCompatibilityDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    const syntaxTabsConstants = {\r\n        featureOrdinal: 99\r\n    };\r\n\r\n    export class SyntaxTabsDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"Syntax Tabs\";\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            const localStorage = this.documentInstance.getLocalStorage();\r\n\r\n            let selectedTabIndex: number = localStorage.getAttribute(\"i-tab-container-selected-tab-index\");\r\n            if (!selectedTabIndex) {\r\n                selectedTabIndex = 0;\r\n            }\r\n\r\n            // Change default duration on the tabs\r\n            const options = {\r\n                active: selectedTabIndex,\r\n                selected: selectedTabIndex,\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                activate: (_: Event, ui: any) => {\r\n                    localStorage.setAttribute(\"i-tab-container-selected-tab-index\", ui.newTab.index());\r\n                },\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                select: (_: Event, ui: any) => {\r\n                    localStorage.setAttribute(\"i-tab-container-selected-tab-index\", ui.index);\r\n                },\r\n                show: null,\r\n                hide: null\r\n            } as JQueryUI.TabsOptions;\r\n\r\n            if (!Browser.isDesignTime && !Browser.isAnimationDisabled) {\r\n                // Only animate if not design time and animation enabled\r\n                options.show = { opacity: \"toggle\", duration: \"fast\" };\r\n                options.hide = { opacity: \"toggle\", duration: \"fast\" };\r\n            }\r\n            rootSelector.find(\".i-tab-container\").tabs(options);\r\n\r\n        }\r\n\r\n        public initializeContentOrdinal(): number {\r\n            return syntaxTabsConstants.featureOrdinal;\r\n        }\r\n\r\n    }\r\n\r\n    export class SyntaxTabsDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new SyntaxTabsDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.SyntaxTabsDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class TabsDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"Tabs\";\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public beforeSetElementVisibility(element: Element, isVisible: boolean, isImmediate: boolean): boolean {\r\n\r\n            if (!isVisible && element.tagName === \"LI\"\r\n                && $(element)\r\n                    .parent()\r\n                    .hasClass(\"ui-tabs-nav\")) {\r\n\r\n                const isLegacyUi = (Browser.compareVersionStrings($.ui.version, \"1.8\") < 0);\r\n\r\n                // If we are hiding a tab, make sure it isn't the selected tab\r\n                const selectedTabClassName: string\r\n                    = isLegacyUi ? \"ui-tabs-selected\" : \"ui-tabs-active\";\r\n\r\n                if ($(element).hasClass(selectedTabClassName)) {\r\n                    const tabContainer = $($(element).parents(\".i-tab-container\").get(0));\r\n                    const firstVisibleTab = tabContainer.find(`li:visible:not(.${selectedTabClassName}):first`);\r\n                    if (firstVisibleTab) {\r\n                        if (isLegacyUi) {\r\n                            tabContainer.tabs(\"option\", \"selected\", firstVisibleTab.index());\r\n                        } else {\r\n                            tabContainer.tabs(\"option\", \"active\", firstVisibleTab.index());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            return false;\r\n\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n            if (location.href === \"about:blank\") {\r\n                // Ensure that all tabs references are treated as local at design time\r\n                $.widget(\"ui.tabs\", $.ui.tabs, {\r\n                    _isLocal(anchor: HTMLAnchorElement) {\r\n                        if (anchor.href.indexOf(\"#\") !== -1) {\r\n                            return true;\r\n                        } else {\r\n                            // ReSharper disable once SuspiciousThisUsage - calls jQuery UI _super function\r\n                            return this._super(anchor);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public afterSetElementVisibility(element: Element, isVisible: boolean): void {\r\n            const tabContainer = $($(element).parents(\".i-tab-container\").get(0));\r\n            if (tabContainer != null && tabContainer.data(\"ui-tabs\") != null) {\r\n                tabContainer.tabs(\"refresh\");\r\n            }\r\n        }\r\n\r\n        public initializeContentOrdinal(): number {\r\n            // Make sure we apply our design time fix for tabs before other features use the ui.tabs widget\r\n            return -1;\r\n        }\r\n\r\n    }\r\n\r\n    export class TabsDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new TabsDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.TabsDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class ToggleSectionDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"Toggle Sections\";\r\n        }\r\n\r\n        /** The id value that is used to save/load state from local storage and to disambiguate event handlers. */\r\n        protected getToggleSetId(): string {\r\n            return \"i-toggle-section\";\r\n        }\r\n\r\n        /** Css class name of the section link to toggle all */\r\n        protected getToggleAllLinkClassName(): string {\r\n            return \"i-toggle-all-sections\";\r\n        }\r\n\r\n        /** Css class name of the section heading div */\r\n        protected getToggleHeadingClassName(): string {\r\n            return \"i-section-heading\";\r\n        }\r\n\r\n        /** Css class name of the section content div following each section heading */\r\n        protected getToggleContentClassName(): string {\r\n            return \"i-section-content\";\r\n        }\r\n\r\n        /** Css class name of the collapse all label */\r\n        protected getToggleAllLabelClassName(): string {\r\n            return \"i-collapse-all\";\r\n        }\r\n\r\n        /** Css class name of the expand all label */\r\n        protected getUnToggleAllLabelClassName(): string {\r\n            return \"i-expand-all\";\r\n        }\r\n\r\n        /** The suffix used for toggle class name and when saving toggle state */\r\n        protected getToggledSuffix(): string {\r\n            return \"-collapsed\";\r\n        }\r\n\r\n        /** Returns true if the related content is only visible when the section is toggled (false = initially visible without toggling) */\r\n        protected toggleStateForVisible(): boolean {\r\n            return true;\r\n        }\r\n\r\n        /** Set to true to automatically save the toggle state between page loads */\r\n        protected isSaveStateEnabled(): boolean {\r\n            return true;\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            // Wire up click handler for the \"Expand All / Collapse All\" link\r\n            const eventId = `click.${this.getToggleSetId()}`;\r\n\r\n            rootSelector\r\n                .off(eventId, `.${this.getToggleAllLinkClassName()}`)\r\n                .on(eventId, `.${this.getToggleAllLinkClassName()}`, (eventObject: JQueryEventObject) => {\r\n                    const desiredExpanded = !(rootSelector\r\n                        .find(`.${this.getToggleHeadingClassName()}.${this.getToggleHeadingClassName()}${this.getToggledSuffix()}`)\r\n                        .length === 0);\r\n\r\n                    rootSelector.find(`.${this.getToggleHeadingClassName()}`).each((index: number, element: Element) => {\r\n                        const isExpanded = !$(element).hasClass(this.getToggleHeadingClassName() + this.getToggledSuffix());\r\n                        if (isExpanded !== desiredExpanded) {\r\n                            this.toggleSection($(element) as JQuery<HTMLElement>);\r\n                        }\r\n                    });\r\n                    Browser.stopPropagation(eventObject);\r\n                });\r\n\r\n            this.loadToggleSectionState(rootSelector.find(`.${this.getToggleHeadingClassName()}`));\r\n\r\n            // Click Event handler\r\n            rootSelector\r\n                .off(eventId, `.${this.getToggleHeadingClassName()}`)\r\n                .on(eventId, `.${this.getToggleHeadingClassName()}`, (eventObject: JQueryEventObject) => {\r\n                    this.toggleSection($(eventObject.currentTarget) as JQuery<HTMLElement>);\r\n                    Browser.stopPropagation(eventObject);\r\n                });\r\n\r\n            // Set the initial state of the \"Expand All\" / \"Collapse All\" link\r\n            if (!Browser.isDesignTime) {\r\n                this.setToggleAllSectionsVisibility();\r\n            }\r\n\r\n        }\r\n\r\n        public ensureElementVisible(element: HTMLElement): void {\r\n            $(element)\r\n                .parents(`.${this.getToggleContentClassName()}`)\r\n                .prev(`.${this.getToggleHeadingClassName()}`)\r\n                .each((_: number, parentElement: HTMLElement): void => {\r\n                    const isToggled = !$(parentElement).hasClass(this.getToggleHeadingClassName() + this.getToggledSuffix());\r\n                    if (this.toggleStateForVisible() !== isToggled) {\r\n                        this.toggleSection($(parentElement));\r\n                    }\r\n                });\r\n        }\r\n\r\n        /**\r\n         * Toggle a given section or sections.\r\n         * @param elements The JQuery selector containing the element or elements to toggle.\r\n         * @param isImmediate When set to true, animations are disabled.\r\n         */\r\n        private toggleSection(elements: JQuery, isImmediate: boolean = false): JQuery {\r\n\r\n            const result = elements.each((_: number, element: HTMLElement): void => {\r\n                const sectionDiv = $(element).next(`.${this.getToggleContentClassName()}`);\r\n                if (sectionDiv) {\r\n                    const isCurrentlyToggled = $(element).hasClass(this.getToggleHeadingClassName() + this.getToggledSuffix());\r\n                    this.toggleElement(sectionDiv, isImmediate);\r\n                    $(element).toggleClass(this.getToggleHeadingClassName() + this.getToggledSuffix(), !isCurrentlyToggled);\r\n\r\n                    if (this.isSaveStateEnabled()) {\r\n                        if (isCurrentlyToggled) {\r\n                            // No longer collapsed\r\n                            this.documentInstance\r\n                                .getLocalStorage()\r\n                                .setAttribute(`${this.getToggleSetId()}${this.getToggledSuffix()}-${$(element).attr(\"id\")}`, null);\r\n                        } else {\r\n                            // Is now collapsed\r\n                            this.documentInstance\r\n                                .getLocalStorage()\r\n                                .setAttribute(`${this.getToggleSetId()}${this.getToggledSuffix()}-${$(element).attr(\"id\")}`, \"true\");\r\n                        }\r\n                    }\r\n                }\r\n\r\n            });\r\n\r\n            this.updateToggleAllSectionsLinkLabel();\r\n\r\n            return result;\r\n\r\n        }\r\n\r\n        /**\r\n         * Executes the toggle function, allowing derived types to override the default method (slideToggle).\r\n         */\r\n        protected toggleElement(element: JQuery, isImmediate: boolean): void {\r\n            const isCurrentlyHidden: boolean = (element.css(\"display\") === \"none\");\r\n            this.documentInstance.setElementVisibility(element, isCurrentlyHidden, isImmediate);\r\n        }\r\n\r\n        /**\r\n         * Load saved state of a toggle section or sections from local storage.\r\n         * @param elements JQuery selector representing Element(s) to load and set the toggle state for.\r\n         */\r\n        private loadToggleSectionState(elements: JQuery): JQuery {\r\n            if (this.isSaveStateEnabled()) {\r\n                return elements.each((index: number, element: HTMLElement): void => {\r\n\r\n                    const attributeValue = this.documentInstance\r\n                        .getLocalStorage()\r\n                        .getAttribute(`${this.getToggleSetId()}${this.getToggledSuffix()}-${$(element).attr(\"id\")}`);\r\n\r\n                    if (attributeValue === \"true\") {\r\n                        this.toggleSection($(element), true);\r\n                    }\r\n\r\n                });\r\n            } else {\r\n                return elements;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Update the labels for the \"Expand All\" / \"Collapse All\" link\r\n         */\r\n        private updateToggleAllSectionsLinkLabel() {\r\n            const rootSelector: JQuery = this.documentInstance.rootSelector;\r\n            const allSectionsToggled = (rootSelector\r\n                .find(`.${this.getToggleHeadingClassName()}.${this.getToggleHeadingClassName()}${this.getToggledSuffix()}`)\r\n                .length === 0);\r\n\r\n            rootSelector.find(`.${this.getToggleAllLabelClassName()}`).css(\"display\", allSectionsToggled ? \"inline\" : \"none\");\r\n            rootSelector.find(`.${this.getUnToggleAllLabelClassName()}`).css(\"display\", allSectionsToggled ? \"none\" : \"inline\");\r\n        }\r\n\r\n        /**\r\n         * Set the visibility of the \"Expand All\" / \"Collapse All\" link depending on whether the page contains\r\n         *  at least one toggle section.\r\n         */\r\n        private setToggleAllSectionsVisibility() {\r\n            const rootSelector = this.documentInstance.rootSelector;\r\n\r\n            if (rootSelector.find(`.${this.getToggleHeadingClassName()}`).length > 0) {\r\n                // Sections - show\r\n                rootSelector.find(`.${this.getToggleAllLinkClassName()}`).show();\r\n            } else {\r\n                // No sections - hide\r\n                rootSelector.find(`.${this.getToggleAllLinkClassName()}`).hide();\r\n            }\r\n        }\r\n\r\n        public populateResponsiveConfiguration(configuration: ResponsiveConfiguration): void {\r\n            if (configuration.profileName === \"mobile\" || configuration.profileName === \"tablet\") {\r\n                switch (configuration.profileName) {\r\n                    case \"tablet\":\r\n                        break;\r\n                    case \"mobile\":\r\n                        // Headings as buttons\r\n                        configuration.clickTargets.push(\r\n                            new ResponsiveClickTarget(`.${this.getToggleHeadingClassName()}`, ResponsiveClickTargetKind.block));\r\n                        break;\r\n                    // No default\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    export class ToggleSectionDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new ToggleSectionDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n($.fn as any).slideFadeToggle = function (speed: string, easing: string, callback: any) {\r\n    return this.animate({ opacity: \"toggle\", height: \"toggle\" }, speed, easing, callback);\r\n};\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.ToggleSectionDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class ToggleDropDownDocumentFeature extends ToggleSectionDocumentFeature implements IDocumentFeature {\r\n\r\n        /** The id value that is used to save/load state from local storage and to disambiguate event handlers. */\r\n        protected getToggleSetId(): string {\r\n            return \"i-drop-downs\";\r\n        }\r\n\r\n        /** Css class name of the section link to toggle all */\r\n        protected getToggleAllLinkClassName(): string {\r\n            return \"i-toggle-all-dropdowns\";\r\n        }\r\n\r\n        /** Css class name of the section heading div */\r\n        protected getToggleHeadingClassName(): string {\r\n            return \"i-dropdown-heading\";\r\n        }\r\n\r\n        /** Css class name of the section content div following each section heading */\r\n        protected getToggleContentClassName(): string {\r\n            return \"i-dropdown-content\";\r\n        }\r\n\r\n        /** Css class name of the collapse all label */\r\n        protected getToggleAllLabelClassName(): string {\r\n            return \"i-show-all-dropdowns\";\r\n        }\r\n\r\n        /** Css class name of the expand all label */\r\n        protected getUnToggleAllLabelClassName(): string {\r\n            return \"i-hide-all-dropdowns\";\r\n        }\r\n\r\n        /** The suffix used for toggle class name and when saving toggle state */\r\n        protected getToggledSuffix(): string {\r\n            return \"-expanded\";\r\n        }\r\n\r\n        /** Returns true if the related content is only visible when the section is toggled (false = initially visible without toggling) */\r\n        protected toggleStateForVisible(): boolean {\r\n            return false;\r\n        }\r\n\r\n        /** Set to true to automatically save the toggle state between page loads */\r\n        protected isSaveStateEnabled(): boolean {\r\n            return false;\r\n        }\r\n\r\n        protected toggleElement(element: JQuery, isImmediate: boolean): void {\r\n            if (isImmediate || Browser.isAnimationDisabled) {\r\n                element.toggle();\r\n            } else {\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                (element as any).slideFadeToggle(\"fast\");\r\n            }\r\n        }\r\n\r\n        public getName(): string {\r\n            return \"Drop Downs\";\r\n        }\r\n\r\n        public populateResponsiveConfiguration(configuration: ResponsiveConfiguration): void {\r\n            if (configuration.profileName === \"mobile\" || configuration.profileName === \"tablet\") {\r\n                switch (configuration.profileName) {\r\n                    case \"tablet\":\r\n                        break;\r\n                    case \"mobile\":\r\n                        break;\r\n                    // No default\r\n                }\r\n\r\n                const className\r\n                    = `.${this.getToggleHeadingClassName()},.${this.getToggleAllLabelClassName()},.${this.getUnToggleAllLabelClassName()}`;\r\n\r\n                // Dropdown Header as a button\r\n                configuration.clickTargets.push(\r\n                    new ResponsiveClickTarget(\r\n                        className,\r\n                        ResponsiveClickTargetKind.block));\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    export class ToggleDropDownDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new ToggleDropDownDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.ToggleDropDownDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class ViewInFrameDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"View In Frame\";\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            const link: JQuery = $(\".i-view-in-frame-link\", rootSelector);\r\n\r\n            // Display / hide link to root page if running outside the navigation frame in web output\r\n            if (window.self !== window.top || location.protocol === \"ms-its:\") {\r\n                // Running in a frameset or CHM, hide the link\r\n                link.hide();\r\n            } else {\r\n                // Not running in a navigation frame, set the link target to the web root page\r\n\r\n                // Get the current page name\r\n                let pageName = location.href.substring(location.href.lastIndexOf(\"/\") + 1);\r\n                if (pageName.indexOf(\"#\") !== -1) {\r\n                    pageName = pageName.substring(0, pageName.indexOf(\"#\"));\r\n                }\r\n\r\n                // Append to root page name\r\n                const framePage = `${link.data(\"root-page\")}#${pageName}`;\r\n                link.attr(\"href\", framePage);\r\n                link.show();\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    export class ViewInFrameDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new ViewInFrameDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.ViewInFrameDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    const lightboxConstants =\r\n    {\r\n        minRelLength: 9\r\n    };\r\n\r\n    export class LightboxDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"Lightbox\";\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            ($(\"a.i-thumbnail\") as any).slimbox({}, null, function (el: HTMLAnchorElement): boolean {\r\n                /* eslint-disable-next-line no-invalid-this */\r\n                return el === this || el.rel.length >= lightboxConstants.minRelLength;\r\n            });\r\n        }\r\n\r\n        public applyResponsiveConfiguration(configuration: ResponsiveConfiguration): void {\r\n            // Remove slimbox click handler in responsive mode\r\n            if (configuration.profileName === \"mobile\" || configuration.profileName === \"tablet\") {\r\n                $(\"i-thumbnail\").off(\"click\");\r\n            }\r\n        }\r\n    }\r\n\r\n    export class LightboxDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new LightboxDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.LightboxDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    const videoConstants = {\r\n        defaultWidth: 64,\r\n        defaultHeight: 36,\r\n        defaultQuirksHeight: 39\r\n    };\r\n\r\n    export class VideoDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"Video\";\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            $(\".i-video-youtube\").each((_: number, containerElement: Element): any => {\r\n                const container = $(containerElement) as JQuery<HTMLElement>;\r\n                const iframe = container.children(\"iframe\");\r\n                const autoplay = (container.data(\"autoplay\") === \"True\");\r\n                const autoResize = (container.data(\"autoresize\") === \"True\");\r\n                const showRelated = (container.data(\"showrelated\") === \"True\");\r\n                const theme = container.data(\"theme\") || \"\";\r\n                const movieId = container.data(\"movieid\");\r\n\r\n                let src = `${Browser.getLocationInfo().protocol === \"https:\" ? \"https:\" : \"http:\"}//www.youtube.com/embed/${movieId}?&theme=${theme}&autohide=1`;\r\n\r\n                src += (`&autoplay=${autoplay ? \"1\" : \"0\"}`);\r\n                src += (`&rel=${showRelated ? \"1\" : \"0\"}`);\r\n\r\n                iframe.attr(\"src\", src);\r\n                if (autoResize) {\r\n                    const currentLocation = Browser.getLocationInfo().href;\r\n\r\n                    if (Browser.isDesignTime || currentLocation === \"about:blank\" || currentLocation.indexOf(\"ms-its:\") === 0) {\r\n                        // CHM or design time\r\n                        iframe.attr(\"width\", videoConstants.defaultWidth).attr(\"height\", videoConstants.defaultQuirksHeight);\r\n                    } else {\r\n                        iframe.attr(\"width\", videoConstants.defaultWidth).attr(\"height\", videoConstants.defaultHeight);\r\n                    }\r\n\r\n                    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                    (container as any).fitVids();\r\n                } else {\r\n                    iframe\r\n                        .attr(\"width\", parseInt(container.data(\"width\"), 10))\r\n                        .attr(\"height\", parseInt(container.data(\"height\"), 10));\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    export class VideoDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new VideoDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.VideoDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export abstract class ContentFilterDocumentFeature extends DocumentFeatureBase {\r\n\r\n        public abstract getName(): string;\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            // Initialize the language filtering check boxes\r\n            const eventId = \"click.toggle\";\r\n            const checkboxSelector = `.${this.getCheckboxClassName()}`;\r\n            rootSelector\r\n                .off(eventId, checkboxSelector)\r\n                .on(eventId,\r\n                    checkboxSelector,\r\n                    (eventObject: JQueryEventObject): void => {\r\n                        this.toggleCheckbox($(eventObject.currentTarget) as JQuery<HTMLElement>);\r\n                        Browser.stopPropagation(eventObject);\r\n                    });\r\n            this.loadToggleCheckboxState($(checkboxSelector));\r\n            this.updateFilterLabel();\r\n\r\n        }\r\n\r\n        /**\r\n         * Toggle the checked state of a checkbox or checkboxes.\r\n         * @param elements JQuery selector representing Element(s) to load and set the toggle state for.\r\n         * @param isImmediate When set to true, animations are disabled.\r\n         */\r\n        protected toggleCheckbox(elements: JQuery<HTMLElement>, isImmediate: boolean = false): JQuery {\r\n            elements.each((_: number, element: HTMLElement): void => {\r\n\r\n                const isChecked: boolean = $(element).is(\":checked\");\r\n                if (!$(element).is(\":checked\")) {\r\n                    this.documentInstance.getLocalStorage().setAttribute(`checkbox-unchecked-${$(element).attr(\"id\")}`, \"true\");\r\n                } else {\r\n                    this.documentInstance.getLocalStorage().setAttribute(`checkbox-unchecked-${$(element).attr(\"id\")}`, null);\r\n                }\r\n\r\n                const toggleClassName = $(element).attr(\"data-toggleclass\");\r\n                if (toggleClassName != null) {\r\n                    this.documentInstance.setElementVisibility($(`.${toggleClassName}`), isChecked, isImmediate);\r\n                }\r\n\r\n            });\r\n\r\n            this.updateFilterLabel();\r\n\r\n            return elements;\r\n        }\r\n\r\n        /**\r\n         * Load saved state of a Checkbox or Checkboxes from local storage.\r\n         * @param elements JQuery selector representing Element(s) to load and set the checkbox state for.\r\n         */\r\n        protected loadToggleCheckboxState(elements: JQuery): JQuery {\r\n            return elements.each((_: number, element: HTMLElement): void => {\r\n\r\n                const attributeValue = this.documentInstance.getLocalStorage().getAttribute(`checkbox-unchecked-${$(element).attr(\"id\")}`);\r\n                if (attributeValue === \"true\") {\r\n                    $(element).prop(\"checked\", false);\r\n                    this.toggleCheckbox($(element), true);\r\n                }\r\n\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Overriden in derived classes to return the class name (without leading \".\") of the checkboxes associated with\r\n         *  this filter.\r\n         */\r\n        protected getCheckboxClassName(): string {\r\n            return null;\r\n        }\r\n\r\n        /**\r\n         * Overriden by derived classes to update the label describing the current filter (where required).\r\n         */\r\n        protected updateFilterLabel(): void {\r\n            // No default implementation\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class DesignTimeDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"Design Time\";\r\n        }\r\n\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n            if (isInitialLoad) {\r\n                // Create design time interaction divs\r\n                $(\"<div/>\", {\r\n                    id: \"hsDesignTimeLoad\",\r\n                    click: () => {\r\n                        const scrollPosition = this.documentInstance.getLocalStorage().getAttribute(\"scrollPosition\");\r\n                        if (scrollPosition) {\r\n                            $(window).scrollTop(scrollPosition);\r\n                        }\r\n                    }\r\n                })\r\n                    .appendTo(rootSelector)\r\n                    .css(\"display\", \"none\");\r\n\r\n                $(\"<div/>\", {\r\n                    id: \"hsDesignTimeSave\",\r\n                    click: () => {\r\n                        this.documentInstance.getLocalStorage().setAttribute(\"scrollPosition\", $(window).scrollTop());\r\n                    }\r\n                })\r\n                    .appendTo(rootSelector)\r\n                    .css(\"display\", \"none\");\r\n\r\n                $(\"<div/>\", {\r\n                    id: \"i-design-time-initialize\",\r\n                    click: (e: Event) => {\r\n                        const newContentElement: JQuery = $(document.getElementById($(e.currentTarget).data(\"element-id\")));\r\n                        this.documentInstance.initializeContent(newContentElement, false);\r\n                    }\r\n                })\r\n                    .appendTo(rootSelector)\r\n                    .css(\"display\", \"none\");\r\n\r\n                // Disable animation at design time\r\n                Browser.isAnimationDisabled = true;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    export class DesignTimeDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            if (Browser.isDesignTime) {\r\n                return new DesignTimeDocumentFeature(documentInstance);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.DesignTimeDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    const dynamicTocConstants = {\r\n        tocSplitterWidth: 14,\r\n        maxSavedTocWidth: 1000,\r\n        minSavedTocWidth: 50,\r\n\r\n        newFolderNodeIconIndex: 3,\r\n        folderNodeIconIndex: 1,\r\n        newPageNodeIconIndex: 10,\r\n        pageNodeIconIndex: 9\r\n    };\r\n\r\n    export class DynamicTocNode {\r\n        /**\r\n         * Unique node id\r\n         */\r\n        public id: string;\r\n        /**\r\n         * Title\r\n         */\r\n        public t: string;\r\n        /**\r\n         * Icon\r\n         */\r\n        public i: number;\r\n        /**\r\n         * Is New Indicator\r\n         */\r\n        public n: boolean;\r\n        /**\r\n         * Target url\r\n         */\r\n        public u: string;\r\n        /**\r\n         * Child Nodes\r\n         */\r\n        public childNodes: DynamicTocNode[];\r\n        /**\r\n         * Populated\r\n         */\r\n        public isPopulated: boolean;\r\n        /**\r\n         * Id of the container this node is contained in\r\n         */\r\n        public containerId: string;\r\n        /**\r\n         * Id of the parent node\r\n         */\r\n        public parentNodeId: string;\r\n        /**\r\n         * Container where child nodes are located\r\n         */\r\n        public cc: string;\r\n        /**\r\n         * True if the node is currently expanded\r\n         */\r\n        public isExpanded: boolean;\r\n        /**\r\n         * True if the node is selected\r\n         */\r\n        public isSelected: boolean;\r\n    }\r\n\r\n    export class DynamicTocDocumentFeature extends DocumentFeatureBase {\r\n\r\n        private _allNodes: Record<string, DynamicTocNode> = {};\r\n        private _loadedContainers: Record<string, boolean> = {};\r\n        private _rootSelector: JQuery;\r\n\r\n        public getName(): string {\r\n            return \"Dynamic ToC\";\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n            if (Browser.isDesignTime || $(\"#i-dt-root\", rootSelector).length === 0) {\r\n                return;\r\n            }\r\n\r\n            const settings = this.getFeatureSettings();\r\n            if (Browser.isCompiledHelp() || !settings.isEnabled) {\r\n                $(\"#i-dt-root\", rootSelector).hide();\r\n            }\r\n\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            (Innovasys as any).DynamicToc = this;\r\n            this._rootSelector = rootSelector;\r\n            this.loadNodeContainer(\"c0\", () => {\r\n                // If there is an initial node to select, load it, expand the path to it and mark as selected\r\n                if (typeof (settings.initialNodeId) != \"undefined\"\r\n                    && settings.initialNodeId != null\r\n                    && settings.initialNodeContainer != null) {\r\n\r\n                    // Hide whilst selecting and expanding nodes\r\n                    $(\"#i-toc-content\", this._rootSelector).hide();\r\n                    this.loadNodeToRoot(settings.initialNodeId, settings.initialNodeContainer, settings.initialNodeId);\r\n                }\r\n            });\r\n\r\n            if (settings.isResizable) {\r\n                $(\"#i-toc-content\").resizable({\r\n                    handles: \"e\",\r\n                    resize: (event, ui) => {\r\n                        this.setTocWidth($(ui.element).outerWidth() + dynamicTocConstants.tocSplitterWidth);\r\n                        $(ui.element).css(\"left\", \"\");\r\n                    }\r\n                });\r\n\r\n                // Load width from storage\r\n                const width = this.documentInstance.getLocalStorage().getAttribute(\"i-dynamic-toc-width\");\r\n                if (width != null && width < dynamicTocConstants.maxSavedTocWidth && width > dynamicTocConstants.minSavedTocWidth) {\r\n                    const $tocContent = $(\"#i-toc-content\");\r\n                    const innerWidthDifference = $tocContent.outerWidth() - $tocContent.width();\r\n                    $tocContent.width(width - innerWidthDifference - dynamicTocConstants.tocSplitterWidth);\r\n                    this.setTocWidth(width);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        /**\r\n         * Adds a dynamic style to adjust the body margin to match the ToC width\r\n         */\r\n        private setTocWidth(width: number): void {\r\n            const styleContainer = Browser.getDynamicStyleContainer(\"i-dynamic-body-margin\");\r\n            styleContainer.html(`@media only screen and (min-width: 769px) { #i-body-content { margin-left: ${width}px; }`);\r\n            this.documentInstance.getLocalStorage().setAttribute(\"i-dynamic-toc-width\", width);\r\n        }\r\n\r\n        /**\r\n         * Loads the passed node id (currentNodeId), loading the container if necessary and then repeating\r\n         * up the node hiearchy to the root. Once the node path is fully loaded, the path is expanded and\r\n         * the node is marked as selected.\r\n         */\r\n        private loadNodeToRoot(currentNodeId: string, containerToLoadNext: string, targetNodeId: string) {\r\n            const node = this.getNode(currentNodeId);\r\n            if (this._loadedContainers[containerToLoadNext]) {\r\n                if (node.parentNodeId === \"n0\" || node.id === \"n0\") {\r\n                    // Now joined up to the root node\r\n                    this.createElementsForNodeChildren(node, true);\r\n                    const targetNode = this.getNode(targetNodeId);\r\n                    this.ensureNodeChildrenPopulated(targetNode,\r\n                        populatedNode => this.expandAndSelectNode(populatedNode.id));\r\n\r\n                } else {\r\n                    const parentNode = this.getNode(node.parentNodeId);\r\n                    this.loadNodeToRoot(parentNode.id, parentNode.containerId, targetNodeId);\r\n                }\r\n            } else {\r\n                this.loadNodeContainer(containerToLoadNext, () => {\r\n                    this.loadNodeToRoot(currentNodeId, containerToLoadNext, targetNodeId);\r\n                });\r\n            }\r\n        }\r\n\r\n        private expandAndSelectNode(targetNodeId: string): void {\r\n            // Expand down\r\n            let nodeToExpand = this.getNode(targetNodeId);\r\n\r\n            while (nodeToExpand != null) {\r\n                if ((nodeToExpand.id === \"n0\" || nodeToExpand.cc) && !nodeToExpand.isExpanded) {\r\n                    this.toggleNodeIsExpanded(nodeToExpand);\r\n                }\r\n                nodeToExpand = this.getNode(nodeToExpand.parentNodeId);\r\n                if (typeof nodeToExpand == \"undefined\") {\r\n                    nodeToExpand = null;\r\n                }\r\n            }\r\n\r\n            // If the target node has children and a url, check the first child to\r\n            //  see if it is for the same url and if so select that instead\r\n            let nodeToSelect = this.getNode(targetNodeId);\r\n            if (nodeToSelect.u != null &&\r\n                nodeToSelect.childNodes != null &&\r\n                nodeToSelect.childNodes.length > 0 &&\r\n                nodeToSelect.childNodes[0].u === nodeToSelect.u) {\r\n\r\n                nodeToSelect = nodeToSelect.childNodes[0];\r\n            }\r\n            this.setNodeSelected(nodeToSelect);\r\n\r\n            $(\"#i-toc-content\", this._rootSelector).show();\r\n        }\r\n\r\n        /**\r\n         * Mark the node as selected (both in the node and related element)\r\n         */\r\n        private setNodeSelected(node: DynamicTocNode): void {\r\n            node.isSelected = true;\r\n            const $node = $(`#i-n-${node.id}`, this._rootSelector);\r\n            if ($node.length > 0) {\r\n                // Delay to ensure the ToC is visible\r\n                setTimeout(() => {\r\n                    if (!Browser.isElementInView($node.get(0), true)) {\r\n                        $node.get(0).scrollIntoView();\r\n                    }\r\n                    $node.toggleClass(\"i-selected\", true);\r\n                }, 1);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Returns true if the node has been loaded (either partially or fully)\r\n         */\r\n        private nodeExists(nodeId: string): boolean {\r\n            return this.getNode(nodeId) != null;\r\n        }\r\n\r\n        /**\r\n         * Gets a previously loaded node. Returns null if the node has not been loaded\r\n         */\r\n        public getNode(nodeId: string): DynamicTocNode {\r\n            const possibleNode = this._allNodes[nodeId];\r\n            if (typeof possibleNode != \"undefined\" && possibleNode != null) {\r\n                return possibleNode;\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        /**\r\n         * Saves the passed node so that it can be fetched using getNode()\r\n         */\r\n        public setNode(node: DynamicTocNode): void {\r\n            this._allNodes[node.id] = node;\r\n        }\r\n\r\n        /**\r\n         * Injects node info, including child nodes. Called from container scripts.\r\n         */\r\n        public injectNodeInfo(nodeId: string, parentContainerId: string, childNodes: DynamicTocNode[]): void {\r\n\r\n            let node = this.getNode(nodeId);\r\n\r\n            if (node == null) {\r\n                node = new DynamicTocNode();\r\n                node.id = nodeId;\r\n                if (node.id === \"n0\") {\r\n                    node.cc = \"c0\";\r\n                }\r\n                this.setNode(node);\r\n            }\r\n\r\n            node.containerId = parentContainerId;\r\n\r\n            node.childNodes = $.map(childNodes,\r\n                (newChildNode: DynamicTocNode) => {\r\n                    const currentNode = this.getNode(newChildNode.id);\r\n                    if (currentNode != null) {\r\n                        // Node already exists, merge new one\r\n                        const newNode = { ...currentNode, ...newChildNode } as DynamicTocNode;\r\n\r\n                        return newNode;\r\n                    } else {\r\n                        // No existing node\r\n                        return newChildNode;\r\n                    }\r\n                });\r\n\r\n            $.each(node.childNodes,\r\n                (index: number, childNode: DynamicTocNode) => {\r\n                    childNode.parentNodeId = node.id;\r\n                    this.setNode(childNode);\r\n                });\r\n\r\n            // Only create elements when this node is joined up to the parent\r\n            if (node.id === \"n0\" || (typeof node.parentNodeId != \"undefined\" && this.nodeExists(node.parentNodeId))) {\r\n                this.createElementsForNodeChildren(node);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Loads a node container script, executing an optional afterLoadCallback once the script is loaded.\r\n         */\r\n        private loadNodeContainer(containerId: string, afterLoadCallback?: (loadedContainerId: string) => void) {\r\n            Browser.loadScript(`./_toc/${containerId}.js`,\r\n                `dt-${containerId}`,\r\n                null,\r\n                () => {\r\n                    this._loadedContainers[containerId] = true;\r\n                    if (afterLoadCallback != null) {\r\n                        afterLoadCallback(containerId);\r\n                    }\r\n                });\r\n        }\r\n\r\n        /**\r\n         * Creates the DOM elements for the child nodes of the passed node. Set recurse to true to populate\r\n         * the whole node hiearchy below the passed node.\r\n         */\r\n        private createElementsForNodeChildren(node: DynamicTocNode, recurse: boolean = false): void {\r\n\r\n            if (!node.cc || node.childNodes == null) {\r\n                // No children, or children not yet populated\r\n                return;\r\n            }\r\n\r\n            if (!node.isPopulated) {\r\n\r\n                const settings = this.getFeatureSettings();\r\n                let list: JQuery;\r\n\r\n                let parentNode: JQuery = null;\r\n\r\n                if (node.id === \"n0\") {\r\n                    list = $(\"#i-dt-root\", this._rootSelector);\r\n                } else {\r\n                    // Find the node for the parent and add a child list to contain the children\r\n                    const parentNodeId = `#i-n-${node.id}`;\r\n                    parentNode = $(parentNodeId, this._rootSelector);\r\n                    if (parentNode.length === 0) {\r\n                        // Parent node does not exist yet\r\n                        return;\r\n                    }\r\n                    list = $(\"<ul/>\");\r\n                }\r\n\r\n                $.each(node.childNodes,\r\n                    (index: number, childNode: DynamicTocNode) => {\r\n\r\n                        const isNew: boolean = childNode.n;\r\n\r\n                        const newListItem = $(\"<li/>\", { id: `i-n-${childNode.id}` })\r\n                            .data(\"node-id\", childNode.id);\r\n\r\n                        if (isNew) {\r\n                            newListItem.addClass(\"i-is-new\");\r\n                        }\r\n\r\n                        const newExpander = $(\"<ins/>\",\r\n                            {\r\n                                /* eslint-disable-next-line quote-props */\r\n                                \"class\": (childNode.cc ? \"i-spacer i-expandorcollapse i-expand\" : \"i-spacer\")\r\n                            })\r\n                            .on(\"click.dynamictoc\",\r\n                                (eventObject: JQueryEventObject): boolean => {\r\n                                    eventObject.cancelBubble = true;\r\n\r\n                                    return this.onNodeElementClick(eventObject.currentTarget as Element, true);\r\n                                });\r\n\r\n                        const newNodeAnchor = $(\"<a/>\")\r\n                            .html(childNode.t)\r\n                            .attr(\"href\", childNode.u != null ? childNode.u : \"#\")\r\n                            .on(\"click.dynamictoc\",\r\n                                (eventObject: JQueryEventObject): boolean => {\r\n                                    eventObject.cancelBubble = true;\r\n\r\n                                    return this.onNodeElementClick(eventObject.currentTarget as Element, false);\r\n                                });\r\n\r\n                        newListItem.append(newExpander);\r\n\r\n                        if (settings.isIconEnabled) {\r\n                            const iconIndex: number = childNode.i == null ? -1 : childNode.i;\r\n                            let iconClassIndex: number = iconIndex;\r\n\r\n                            if (childNode.cc) {\r\n                                if (iconIndex <= 0) {\r\n                                    if (isNew) {\r\n                                        iconClassIndex = dynamicTocConstants.newFolderNodeIconIndex;\r\n                                    } else {\r\n                                        iconClassIndex = dynamicTocConstants.folderNodeIconIndex;\r\n                                    }\r\n                                }\r\n                            } else {\r\n                                if (iconIndex <= 0) {\r\n                                    if (isNew) {\r\n                                        iconClassIndex = dynamicTocConstants.newPageNodeIconIndex;\r\n                                    } else {\r\n                                        iconClassIndex = dynamicTocConstants.pageNodeIconIndex;\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            const icon: JQuery = $(\"<ins class=\\\"i-icon\\\"></ins>\")\r\n                                .addClass(`i-icon-${iconClassIndex}`);\r\n\r\n                            newListItem.append(icon);\r\n                        }\r\n\r\n                        newListItem.append(newNodeAnchor);\r\n                        list.append(newListItem);\r\n                    });\r\n\r\n                if (parentNode != null) {\r\n                    parentNode.append(list);\r\n                } else {\r\n                    list.addClass(\"i-visible\");\r\n                }\r\n\r\n                // Set flag to indicate populated\r\n                node.isPopulated = true;\r\n            }\r\n\r\n            if (recurse && node.childNodes != null) {\r\n                $.each(node.childNodes,\r\n                    (index: number, childNode: DynamicTocNode) => {\r\n                        this.createElementsForNodeChildren(childNode, true);\r\n                    });\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Node element click handler\r\n         */\r\n        private onNodeElementClick(element: Element, isExpandOnly: boolean): boolean {\r\n            const $element = $(element).parent(\"li\");\r\n            const node = this.getNode($element.data(\"node-id\"));\r\n            if (node.u != null && !isExpandOnly) {\r\n                Browser.navigateTo(node.u, false);\r\n            } else if (node.cc != null) {\r\n                this.ensureNodeChildrenPopulated(node, populatedNode => {\r\n                    // Toggle expand\r\n                    this.toggleNodeIsExpanded(populatedNode);\r\n                });\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        /**\r\n         * Ensures that the passed node is populated. After it is populated, the afterPopulated callback is invoked.\r\n         */\r\n        private ensureNodeChildrenPopulated(node: DynamicTocNode, afterPopulated: (populatedNode: DynamicTocNode) => void): void {\r\n            if (node.cc) {\r\n                if (!node.childNodes) {\r\n                    // Node model needs to populate - it will expand once populated\r\n                    this.loadNodeContainer(node.cc, () => {\r\n                        afterPopulated(node);\r\n                    });\r\n\r\n                    return;\r\n                } else {\r\n                    if (!node.isPopulated) {\r\n                        // Node model is populated, but the DOM elements have not been\r\n                        //  created. Create them now\r\n                        this.createElementsForNodeChildren(node);\r\n                    }\r\n                }\r\n            }\r\n            afterPopulated(node);\r\n        }\r\n\r\n        /**\r\n         * Expand / collapse a node.\r\n         */\r\n        private toggleNodeIsExpanded(node: DynamicTocNode) {\r\n            const spacer = $(`#i-n-${node.id} > ins`, this._rootSelector);\r\n            spacer.toggleClass(\"i-expand i-collapse\");\r\n            spacer.siblings(\"ul\").toggleClass(\"i-visible\");\r\n\r\n            if (this.getFeatureSettings().isIconEnabled) {\r\n                // Update the icon for the 2 state icons\r\n                const icon: JQuery = $(`#i-n-${node.id} > a > ins`, this._rootSelector);\r\n                if (icon.hasClass(\"i-icon-1\")) {\r\n                    icon.removeClass(\"i-icon-1\").addClass(\"i-icon-2\");\r\n                } else if (icon.hasClass(\"i-icon-2\")) {\r\n                    icon.removeClass(\"i-icon-2\").addClass(\"i-icon-1\");\r\n                } else if (icon.hasClass(\"i-icon-3\")) {\r\n                    icon.removeClass(\"i-icon-3\").addClass(\"i-icon-4\");\r\n                } else if (icon.hasClass(\"i-icon-4\")) {\r\n                    icon.removeClass(\"i-icon-4\").addClass(\"i-icon-3\");\r\n                }\r\n            }\r\n\r\n            node.isExpanded = spacer.hasClass(\"i-collapse\");\r\n        }\r\n\r\n        private getDefaultSettings(): IDynamicTocFeatureSettings {\r\n            return {\r\n                initialNodeContainer: null,\r\n                initialNodeId: null,\r\n                isIconEnabled: false,\r\n                isEnabled: false,\r\n                isResizable: true\r\n            };\r\n        }\r\n\r\n        private getFeatureSettings(): IDynamicTocFeatureSettings {\r\n            return this.documentInstance.getFeatureSettings<IDynamicTocFeatureSettings>(\"dynamictoc\", this.getDefaultSettings);\r\n        }\r\n\r\n    }\r\n\r\n    export interface IDynamicTocFeatureSettings {\r\n        isIconEnabled: boolean;\r\n        initialNodeId: string;\r\n        initialNodeContainer: string;\r\n        isEnabled: boolean;\r\n        isResizable: boolean;\r\n    }\r\n\r\n    export class DynamicTocDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            if (!Browser.isCompiledHelp()) {\r\n                return new DynamicTocDocumentFeature(documentInstance);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.DynamicTocDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    const inThisTopicConstants = {\r\n        expansionDelay: 250,\r\n        maxInThisTopicAnchors: 100\r\n    };\r\n\r\n    export class InThisTopicHeading {\r\n\r\n        private readonly _documentInstance: Document;\r\n\r\n        public headingLevel = 1;\r\n        public childHeadings: InThisTopicHeading[] = [];\r\n        public headingText: string;\r\n        public anchorName: string;\r\n        public headingElement: HTMLElement;\r\n        public listItemId: string;\r\n        public isSectionHeading: boolean;\r\n\r\n        constructor(documentInstance: Document) {\r\n            this._documentInstance = documentInstance;\r\n        }\r\n\r\n        public createElement(): JQuery {\r\n\r\n            // Create the heading link that points to the anchor we created\r\n            const headingLink = $(\"<a/>\", { href: `#${this.anchorName}` })\r\n                .text(this.headingText)\r\n                .on(\"click.inthistopic\", () => {\r\n                    const clickTarget = this.headingElement;\r\n\r\n                    if ($(clickTarget).hasClass(\"i-section-heading\")) {\r\n                        // Click on a section heading. Make sure that the content within the heading\r\n                        //  is visible and scroll so that the first child is in view\r\n                        const $firstContentChild = $(clickTarget)\r\n                            .next(\".i-section-content\")\r\n                            .children();\r\n                        if ($firstContentChild.length > 0) {\r\n                            const firstContentChild = $firstContentChild.get(0) as HTMLElement;\r\n                            const documentInstance = Browser.getDocumentInstance(firstContentChild);\r\n                            documentInstance.ensureElementVisible(firstContentChild);\r\n                            // Timeout is necessary to allow the parent section(s) to expand\r\n                            setTimeout(() => {\r\n                                clickTarget.scrollIntoView(true);\r\n                                this.refreshAllHighlights();\r\n                            }, inThisTopicConstants.expansionDelay);\r\n                        }\r\n                    }\r\n\r\n                    if (clickTarget != null) {\r\n                        // Click on a current invisible heading (i.e. in a collapsed section). Call ensureElementVisible\r\n                        //  and then scroll to the target\r\n                        const documentInstance = Browser.getDocumentInstance(clickTarget);\r\n                        documentInstance.ensureElementVisible(clickTarget);\r\n                        // Timeout is necessary to allow the parent section(s) to expand\r\n                        setTimeout(() => {\r\n                            clickTarget.scrollIntoView(true);\r\n                            this.refreshAllHighlights();\r\n                        }, inThisTopicConstants.expansionDelay);\r\n                    }\r\n                });\r\n\r\n            // Create a list item to contain the link\r\n            this.listItemId = Browser.getUniqueId();\r\n            const headingListItem = $(\"<li/>\")\r\n                .attr(\"id\", this.listItemId)\r\n                .addClass(`i-heading-level-${this.headingLevel}`)\r\n                .append(headingLink);\r\n\r\n            if (this.childHeadings.length > 0) {\r\n                // Create a child list and add the child items to it\r\n                const childList = $(\"<ul/>\").addClass(`i-in-this-topic i-in-this-topic-${this.headingLevel}`);\r\n                $.each(this.childHeadings,\r\n                    (index: number, childHeading: InThisTopicHeading) => {\r\n                        childList.append(childHeading.createElement());\r\n                    });\r\n                headingListItem.append(childList);\r\n            }\r\n\r\n            return headingListItem;\r\n\r\n        }\r\n\r\n        public refreshAllHighlights(): void {\r\n            const feature = this._documentInstance.getFeatureByName(\"In This Topic\") as InThisTopicDocumentFeature;\r\n            feature.refreshHighlights();\r\n        }\r\n\r\n        public getIsVisible(): boolean {\r\n            return Browser.isElementInView(this.headingElement, !this.isSectionHeading);\r\n        }\r\n\r\n        public highlightVisibility(isVisible: boolean): void {\r\n            $(`#${this.listItemId}`).toggleClass(\"i-inthistopic-visible\", isVisible);\r\n        }\r\n    }\r\n\r\n    export class InThisTopicDocumentFeature extends DocumentFeatureBase {\r\n\r\n        private _rootHeadings: InThisTopicHeading[] = null;\r\n\r\n        public getName(): string {\r\n            return \"In This Topic\";\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            if (Browser.isDesignTime || $(\".i-in-this-topic-container\", rootSelector).length === 0) {\r\n                return;\r\n            }\r\n\r\n            let allHeadingsSelector: string = null;\r\n\r\n            const featureSettings = this.getFeatureSettings();\r\n            if (featureSettings != null) {\r\n                if (!featureSettings.isSupported) {\r\n                    return;\r\n                }\r\n\r\n                allHeadingsSelector = featureSettings.headingTags;\r\n                if (!featureSettings.isEnabled) {\r\n                    $(\".i-in-this-topic-container\").hide();\r\n\r\n                    return;\r\n                }\r\n            }\r\n\r\n            const anchors: Record<string, boolean> = {};\r\n\r\n            if (allHeadingsSelector == null) {\r\n                allHeadingsSelector = \"h1,h2,h3,.i-section-heading\";\r\n            }\r\n            const allHeadings = $(allHeadingsSelector);\r\n\r\n            this._rootHeadings = [];\r\n\r\n            allHeadings.each((_: number, element: HTMLElement) => {\r\n\r\n                const thisHeading = $(element);\r\n                const tagName = element.tagName;\r\n\r\n                const inThisTopicHeading = new InThisTopicHeading(this.documentInstance);\r\n                inThisTopicHeading.headingElement = element;\r\n\r\n                // Find the level of this heading\r\n                /* eslint-disable-next-line no-magic-numbers */\r\n                if (tagName.length === 2 && tagName.substring(0, 1) === \"H\") {\r\n                    inThisTopicHeading.headingLevel = parseInt(tagName.substring(1), 10);\r\n                } else {\r\n                    if (thisHeading.hasClass(\"i-section-heading\")) {\r\n                        inThisTopicHeading.headingLevel = 1;\r\n                        // If this is a nested heading, find the parent and use its headinglevel+1\r\n                        const $parentSectionContent = thisHeading.parent(\".i-section-content\");\r\n                        if ($parentSectionContent.length > 0) {\r\n                            const $parentSectionHeading = $parentSectionContent.prev(\".i-section-heading\");\r\n                            if ($parentSectionHeading.length > 0) {\r\n                                const parentHeading: InThisTopicHeading\r\n                                    = this.findInThisTopicHeading(this._rootHeadings, $parentSectionHeading.get(0));\r\n                                if (parentHeading != null) {\r\n                                    inThisTopicHeading.headingLevel = parentHeading.headingLevel + 1;\r\n                                }\r\n                            }\r\n                        }\r\n                        inThisTopicHeading.isSectionHeading = true;\r\n                    }\r\n                }\r\n\r\n                // Get heading text\r\n                inThisTopicHeading.headingText = inThisTopicHeading.isSectionHeading\r\n                    ? thisHeading.children(\".i-section-heading-text\")\r\n                        .first()\r\n                        .text()\r\n                    : thisHeading.text();\r\n\r\n                // Create a unique anchor name for this heading\r\n                let anchorName = `i-heading-${inThisTopicHeading.headingText.replace(/[^a-zA-Z0-9]+/g, \"-\").toLowerCase()}`;\r\n\r\n                if (anchors[anchorName] != null) {\r\n                    for (let a = 0; a < inThisTopicConstants.maxInThisTopicAnchors; a++) {\r\n                        if (anchors[`${anchorName}-${a}`] == null) {\r\n                            anchorName = `${anchorName}-${a}`;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                anchors[anchorName] = true;\r\n                inThisTopicHeading.anchorName = anchorName;\r\n\r\n                // Find the logical parent of this heading\r\n                const parentInThisTopicHeading =\r\n                    this.findParentInThisTopicHeading(null, this._rootHeadings, inThisTopicHeading.headingLevel);\r\n\r\n                if (parentInThisTopicHeading == null) {\r\n                    // Root heading\r\n                    this._rootHeadings.push(inThisTopicHeading);\r\n                } else {\r\n                    // Nested heading\r\n                    parentInThisTopicHeading.childHeadings.push(inThisTopicHeading);\r\n                }\r\n\r\n                // Add an anchor just before the heading content as a target for the link\r\n                thisHeading.prepend($(\"<a/>\", { name: inThisTopicHeading.anchorName }));\r\n\r\n            });\r\n\r\n            const headingList: JQuery = $(\"<ul/>\")\r\n                .addClass(\"i-in-this-topic i-in-this-topic-root\");\r\n\r\n            if (this.getFeatureSettings().areChildHeadingsAlwaysVisible) {\r\n                headingList.addClass(\"i-in-this-topic-child-headings-always-visible\");\r\n            }\r\n\r\n            $.each(this._rootHeadings,\r\n                (_: number, inThisTopicHeading: InThisTopicHeading) => {\r\n\r\n                    const element = inThisTopicHeading.createElement();\r\n                    headingList.append(element);\r\n\r\n                });\r\n\r\n            // Add the list to the body\r\n            if (this._rootHeadings.length > 0) {\r\n                $(\".i-in-this-topic-container\").append(headingList);\r\n\r\n                $(window)\r\n                    .off(\"scroll.inthistopic\")\r\n                    .on(\"scroll.inthistopic\",\r\n                        () => {\r\n                            this.refreshHighlights();\r\n                        })\r\n                    .off(\"resize.inthistopic\")\r\n                    .on(\"resize.inthistopic\",\r\n                        () => {\r\n                            this.refreshHighlights();\r\n                        });\r\n\r\n                setTimeout(() => this.refreshHighlights(), 1);\r\n            } else {\r\n                $(\".i-in-this-topic-container\").hide();\r\n            }\r\n\r\n        }\r\n\r\n        public refreshHighlights(): void {\r\n            this.highlightSelected(null, this._rootHeadings);\r\n        }\r\n\r\n        private highlightSelected(parent: InThisTopicHeading, headings: InThisTopicHeading[]): boolean {\r\n            if (headings == null) {\r\n                headings = this._rootHeadings;\r\n            }\r\n\r\n            let returnValue = false;\r\n\r\n            if (parent != null) {\r\n                returnValue = parent.getIsVisible();\r\n            }\r\n\r\n            $.each(headings,\r\n                (_: number, heading: InThisTopicHeading) => {\r\n                    returnValue = (this.highlightSelected(heading, heading.childHeadings) && parent != null) || returnValue;\r\n                });\r\n\r\n            if (parent != null) {\r\n                parent.highlightVisibility(returnValue);\r\n            }\r\n\r\n            return returnValue;\r\n        }\r\n\r\n        private getDefaultSettings(): IInThisTopicFeatureSettings {\r\n            return {\r\n                areChildHeadingsAlwaysVisible: true,\r\n                headingTags: null,\r\n                isEnabled: false,\r\n                isSupported: false\r\n            };\r\n        }\r\n\r\n        public getFeatureSettings(): IInThisTopicFeatureSettings {\r\n            return this.documentInstance.getFeatureSettings<IInThisTopicFeatureSettings>(\"inthistopic\", this.getDefaultSettings);\r\n        }\r\n\r\n        private findInThisTopicHeading(headings: InThisTopicHeading[], heading: Element): InThisTopicHeading {\r\n            if (headings == null || headings.length === 0) {\r\n                return null;\r\n            }\r\n\r\n            for (const childHeading of headings) {\r\n                if (childHeading.headingElement === heading) {\r\n                    return childHeading;\r\n                }\r\n                const match = this.findInThisTopicHeading(childHeading.childHeadings, heading);\r\n                if (match != null) {\r\n                    return match;\r\n                }\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        private findParentInThisTopicHeading(\r\n            parent: InThisTopicHeading,\r\n            headings: InThisTopicHeading[],\r\n            headingLevel: number): InThisTopicHeading {\r\n\r\n            if (parent != null && parent.headingLevel === headingLevel - 1) {\r\n                // This is the heading level we are looking for\r\n                return parent;\r\n            }\r\n\r\n            const lastChild = headings.length > 0\r\n                ? headings[headings.length - 1]\r\n                : null;\r\n\r\n            if (lastChild == null) {\r\n                // No child headings to search\r\n                return null;\r\n            } else {\r\n                const foundHeading: InThisTopicHeading = this.findParentInThisTopicHeading(lastChild,\r\n                    lastChild.childHeadings,\r\n                    headingLevel);\r\n                if (foundHeading != null) {\r\n                    return foundHeading;\r\n                } else {\r\n                    // No find in the levels below, so match the largest heading\r\n                    //  available in the current hierarchy\r\n                    if (lastChild.headingLevel <= headingLevel - 1) {\r\n                        return lastChild;\r\n                    }\r\n                }\r\n            }\r\n\r\n            return null;\r\n        }\r\n    }\r\n\r\n    export interface IInThisTopicFeatureSettings {\r\n        headingTags: string;\r\n        areChildHeadingsAlwaysVisible: boolean;\r\n        isEnabled: boolean;\r\n        isSupported: boolean;\r\n    }\r\n\r\n    export class InThisTopicDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new InThisTopicDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.InThisTopicDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    const languageFilterConstants = {\r\n        vbLanguageCount: 2\r\n    };\r\n\r\n    export class LanguageFilterDocumentFeature extends ContentFilterDocumentFeature {\r\n\r\n        private readonly _linkSelector = \".i-language-filter\";\r\n        private readonly _allLabelSelector = \"label.i-language-filter-all\";\r\n        private readonly _languageLabelSelectorPrefix = \"label.i-language-filter-\";\r\n        private readonly _languageNameAttributeName = \"data-languagename\";\r\n        private readonly _filteredContentClassNamePrefix = \"i-filtered-content-\";\r\n        private readonly _toggleClassAttributeName = \"data-toggleclass\";\r\n\r\n        public getName(): string {\r\n            return \"Language Filter\";\r\n        }\r\n\r\n        public getCheckboxClassName(): string {\r\n            return \"i-toggle-language-checkbox\";\r\n        }\r\n\r\n        /* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            // Move VB and VBUsage to a common Syntax-VB div\r\n            const tabContainers = $(\".i-tab-container\", rootSelector);\r\n            tabContainers.each((_: number, element: HTMLElement): void => {\r\n                const tabContainer = $(element);\r\n                if ($(\"a[href='#i-syntax-VBAll']\", tabContainer).length > 0) {\r\n                    $(\"<div>\", { id: \"i-syntax-VBAll\", class: \"i-code\" })\r\n                        .append($(\"#i-syntax-VB\", tabContainer))\r\n                        .append(\"&nbsp;\")\r\n                        .append($(\"#i-syntax-VBUsage\", tabContainer))\r\n                        .appendTo(tabContainer);\r\n                }\r\n            });\r\n\r\n            super.initializeContent(rootSelector);\r\n\r\n        }\r\n\r\n        protected toggleCheckbox(element: JQuery, isImmediate: boolean = false): JQuery {\r\n\r\n            const rootSelector = this.documentInstance.rootSelector;\r\n\r\n            // Don't allow removal of the last language\r\n            const allCheckboxes = $(`.${this.getCheckboxClassName()}`);\r\n            const allCheckedCheckboxes = allCheckboxes.filter(\":checked\");\r\n            if (allCheckedCheckboxes.length === 0) {\r\n                element.prop(\"checked\", true);\r\n\r\n                return $();\r\n            }\r\n\r\n            // Base implementation shows/hides the related content\r\n            const result = super.toggleCheckbox(element, isImmediate);\r\n            const isChecked = element.is(\":checked\");\r\n\r\n            const toggleClassName: string = element.attr(this._toggleClassAttributeName);\r\n\r\n            // Wrapper for toggleCheckBox that hides the consolidated VB section\r\n            //  if both VB and VBUsage are hidden\r\n            if (toggleClassName === `${this._filteredContentClassNamePrefix}VBUsage`\r\n                || toggleClassName === `${this._filteredContentClassNamePrefix}VB`) {\r\n\r\n                const isVbChecked: boolean\r\n                    = rootSelector.find(`.${this.getCheckboxClassName()}[data-languagename='VB']`).is(\":checked\");\r\n                const isVbUsageChecked: boolean\r\n                    = rootSelector.find(`.${this.getCheckboxClassName()}[data-languagename='VBUsage']`).is(\":checked\");\r\n\r\n                if ((isChecked && !(isVbChecked && isVbUsageChecked))\r\n                    || (!isChecked && !isVbChecked && !isVbUsageChecked)) {\r\n\r\n                    this.documentInstance.setElementVisibility(\r\n                        rootSelector.find(`.${this._filteredContentClassNamePrefix}VBAll`), isChecked, isImmediate);\r\n                }\r\n            }\r\n\r\n            return result;\r\n\r\n        }\r\n\r\n        protected updateFilterLabel(): void {\r\n\r\n            // Set caption of language filter to reflect current set\r\n            let targetLabel: JQuery = null;\r\n            const allCheckboxes = $(`.${this.getCheckboxClassName()}`);\r\n            const allCheckedCheckboxes = allCheckboxes.filter(\":checked\");\r\n            const allLabels = $(`${this._linkSelector} label`);\r\n\r\n            if (allCheckedCheckboxes.length === allCheckboxes.length) {\r\n                // All languages\r\n                targetLabel = $(`${this._linkSelector} ${this._allLabelSelector}`);\r\n            } else if (allCheckedCheckboxes.length === 0) {\r\n                // No languages\r\n\r\n            } else if (allCheckedCheckboxes.length === 1) {\r\n                // Single language\r\n                const languageName = allCheckedCheckboxes.attr(this._languageNameAttributeName);\r\n                targetLabel =\r\n                    $(`${this._linkSelector} ${this._languageLabelSelectorPrefix}${languageName},${this._linkSelector\r\n                        } .i-${languageName}-label`);\r\n            } else {\r\n                // Multiple languages\r\n                if (allCheckedCheckboxes.length === languageFilterConstants.vbLanguageCount\r\n                    && allCheckedCheckboxes.filter(\r\n                        `[${this._languageNameAttributeName}^='VB']`).length === languageFilterConstants.vbLanguageCount) {\r\n\r\n                    // 2 languages, both VB\r\n                    targetLabel = $(`${this._linkSelector} ${this._languageLabelSelectorPrefix}vball`);\r\n                } else {\r\n                    targetLabel = $(`${this._linkSelector} ${this._languageLabelSelectorPrefix}multiple`);\r\n                }\r\n            }\r\n\r\n            allLabels.css(\"display\", \"none\");\r\n\r\n            if (targetLabel != null) {\r\n                targetLabel.css(\"display\", \"inline\");\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    export class LanguageFilterDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new LanguageFilterDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.LanguageFilterDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class MemberFilterDocumentFeature extends ContentFilterDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"Member Filter\";\r\n        }\r\n\r\n        protected getCheckboxClassName(): string {\r\n            return \"i-toggle-filter-checkbox\";\r\n        }\r\n\r\n        protected updateFilterLabel(): void {\r\n            const rootSelector = this.documentInstance.rootSelector;\r\n            const isFiltered = !$(\"#i-inherited-checkbox\").is(\":checked\") || !$(\"#i-protected-checkbox\").is(\":checked\");\r\n            rootSelector.find(\".i-members-all\").css(\"display\", isFiltered ? \"none\" : \"inline\");\r\n            rootSelector.find(\".i-members-filtered\").css(\"display\", isFiltered ? \"inline\" : \"none\");\r\n        }\r\n\r\n    }\r\n\r\n    export class MemberFilterDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new MemberFilterDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.MemberFilterDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Versions {\r\n    export class Configuration {\r\n        public static versionDefinitionSets: VersionDefinitionSet[];\r\n        public static discoveryUrl: string;\r\n        public static navigationUrl: string;\r\n    }\r\n\r\n    export class VersionDefinitionSet {\r\n        public id: string;\r\n        public caption: string;\r\n        public versionDefinitions: VersionDefinition[];\r\n    }\r\n\r\n    export class VersionDefinition {\r\n        public id: string;\r\n        public caption: string;\r\n        public isFrameless: boolean;\r\n    }\r\n}\r\n\r\n/* eslint-disable-next-line @typescript-eslint/no-unused-vars, no-redeclare */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export const versionConstants = {\r\n        badRequestStatusCode: 400\r\n    };\r\n\r\n    export class VersionsDocumentFeature extends DocumentFeatureBase {\r\n\r\n        public getName(): string {\r\n            return \"Versions\";\r\n        }\r\n\r\n        public initializeContentOrdinal(): number {\r\n            // Initialise before popup links feature\r\n            return -1;\r\n        }\r\n\r\n        public initializeContent(rootSelector: JQuery, isInitialLoad: boolean = false): void {\r\n\r\n            if (Browser.isDesignTime || Browser.isCompiledHelp()) {\r\n                return;\r\n            }\r\n\r\n            if (isInitialLoad) {\r\n                /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                if ((Innovasys as any).settings.versions.isEnabled\r\n                    && Versions.Configuration\r\n                    && Versions.Configuration.versionDefinitionSets) {\r\n                    $.each(Versions.Configuration.versionDefinitionSets,\r\n                        (index: number, item: Versions.VersionDefinitionSet) => {\r\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                            if ((Innovasys as any).settings.versions[item.id]) {\r\n                                if (item.versionDefinitions.length > 1) {\r\n                                    this.createPopupForVersionDefinitionSet(item);\r\n                                }\r\n                            }\r\n                        });\r\n                }\r\n            } else {\r\n                // Initialising the Editions list\r\n                const $popupContent = rootSelector.find(\".i-version-selector\");\r\n                if ($popupContent.length > 0) {\r\n                    $popupContent.each((_: number, popupContentElement: HTMLElement) => {\r\n                        this.discoverVersions($(popupContentElement).attr(\"data-i-versionset-id\"), $(popupContentElement));\r\n                    });\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        private discoverVersions(versionDefinitionSetId: string, popupContent: JQuery) {\r\n            if (popupContent.attr(\"data-i-populated\") != null) {\r\n                return;\r\n            }\r\n\r\n            popupContent.attr(\"data-i-populated\", \"true\");\r\n\r\n            const versionDefinitionSet\r\n                = Versions.Configuration.versionDefinitionSets.filter(\r\n                    (item: Versions.VersionDefinitionSet) => item.id === versionDefinitionSetId)[0];\r\n\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            const currentVersionId = (Innovasys as any).settings.versions[versionDefinitionSet.id].currentId;\r\n\r\n            const promises = $.map(versionDefinitionSet.versionDefinitions,\r\n                (item: Versions.VersionDefinition) => {\r\n                    const versionId = `${versionDefinitionSet.id}-${item.id}`;\r\n                    const $itemElement = $(`.i-version-link[data-version-id='${versionId}']`, popupContent);\r\n\r\n                    if (item.id === currentVersionId) {\r\n                        // Current version\r\n                        $itemElement.addClass(\"i-discovered\");\r\n                    } else {\r\n                        // Not the current version, discover\r\n                        const discoveryUrl\r\n                            = this.parseContentUrlTemplate(item, Versions.Configuration.discoveryUrl, versionDefinitionSet.id);\r\n\r\n                        if (discoveryUrl != null && discoveryUrl !== \"\") {\r\n                            const targetUrl = discoveryUrl;\r\n                            void $.ajax({\r\n                                type: \"HEAD\",\r\n                                url: targetUrl,\r\n                                complete: (xhr: JQueryXHR) => {\r\n                                    if (xhr.status !== 0 && xhr.status < versionConstants.badRequestStatusCode) {\r\n                                        $itemElement.addClass(\"i-discovered\");\r\n                                        const $anchor = $(\"<a />\");\r\n                                        $anchor.attr(\"target\", \"_top\");\r\n\r\n                                        const isFrameless = versionDefinitionSetId === \"edition\"\r\n                                            ? item.isFrameless\r\n                                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                                            : (Innovasys as any).settings.isFrameless as boolean;\r\n\r\n                                        if (!isFrameless) {\r\n                                            // Different url for navigating to the discovered page\r\n                                            const navigationUrl = this.parseContentUrlTemplate(\r\n                                                item,\r\n                                                Versions.Configuration.navigationUrl,\r\n                                                versionDefinitionSet.id);\r\n                                            $anchor.attr(\"href\", navigationUrl);\r\n                                        } else {\r\n                                            // Direct navigation to the same page we discovered\r\n                                            $anchor.attr(\"href\", targetUrl);\r\n                                        }\r\n                                        $anchor.text($itemElement.text());\r\n                                        $itemElement.empty().append($anchor);\r\n                                    } else {\r\n                                        $itemElement.addClass(\"i-unavailable\");\r\n                                    }\r\n                                }\r\n                            });\r\n                        } else {\r\n                            // No target url\r\n                            $itemElement.addClass(\"i-unavailable\");\r\n                        }\r\n                    }\r\n                });\r\n\r\n            void jQuery.when(promises)\r\n                .always(() => {\r\n                    //\r\n                });\r\n        }\r\n\r\n        private parseContentUrlTemplate(\r\n            versionDefinition: Versions.VersionDefinition,\r\n            urlTemplate: string,\r\n            targetVersionSetId: string): string {\r\n\r\n            return urlTemplate.replace(/%%(.*?)%%/g, (match) => {\r\n                switch (match.toLowerCase()) {\r\n                    case \"%%pagefilename%%\":\r\n                        return Browser.getLocationInfo().pathname.split(\"/\").pop();\r\n                    case \"%%locale%%\":\r\n                        /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                        const locale = (Innovasys as any).settings.versions.locale.currentId;\r\n                        if (locale === \"-\") {\r\n                            return \"\";\r\n                        } else {\r\n                            return `_${locale}`;\r\n                        }\r\n                    default:\r\n                        const versionSetId: string = match.replace(/%%/g, \"\").toLowerCase();\r\n                        let value = \"\";\r\n                        if (versionSetId === targetVersionSetId) {\r\n                            // The id we are switching to\r\n                            value = versionDefinition.id;\r\n                        } else {\r\n                            // Current id value for this version set\r\n                            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n                            value = (Innovasys as any).settings.versions[versionSetId].currentId;\r\n                        }\r\n\r\n                        return value;\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        private getPopupContainerSelector(): string {\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            const selector = (Innovasys as any).settings.versions.popupContainer;\r\n            if (selector) {\r\n                return selector;\r\n            } else {\r\n                return \"#i-actions-content\";\r\n            }\r\n        }\r\n\r\n        private createPopupForVersionDefinitionSet(versionDefinitionSet: Versions.VersionDefinitionSet): JQuery {\r\n            const id = `i-version-${versionDefinitionSet.id}`;\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            const currentVersionId = (Innovasys as any).settings.versions[versionDefinitionSet.id].currentId;\r\n\r\n            const $container = $(this.getPopupContainerSelector());\r\n\r\n            const $span = $(\"<span class='i-popup-link i-version-popup-link' />\");\r\n            $span.attr(\"data-popup-title\", versionDefinitionSet.caption);\r\n            $span.text(versionDefinitionSet.caption);\r\n            $span.attr(\"data-popup-contentsource\", `#${id}`);\r\n\r\n            const $contentDiv = $(\"<div class='i-popup-content i-version-selector'/>\");\r\n            $contentDiv.attr(\"data-i-versionset-id\", versionDefinitionSet.id);\r\n            $contentDiv.attr(\"id\", id);\r\n\r\n            const $versionList = $(\"<ul/>\");\r\n            $.each(versionDefinitionSet.versionDefinitions,\r\n                (index: number, item: Versions.VersionDefinition) => {\r\n                    const $versionItem = $(\"<li class='i-version-link'/>\");\r\n                    if (currentVersionId === item.id) {\r\n                        $versionItem.addClass(\"i-current-version\");\r\n                    }\r\n                    $versionItem.attr(\"data-version-id\", `${versionDefinitionSet.id}-${item.id}`);\r\n                    $versionItem.text(item.caption);\r\n                    $versionList.append($versionItem);\r\n                });\r\n            $contentDiv.append($versionList);\r\n\r\n            $container.append($span);\r\n            $container.append($contentDiv);\r\n\r\n            return $span;\r\n        }\r\n\r\n        private getDefaultSettings(): IVersionsFeatureSettings {\r\n            return {\r\n                isEnabled: true\r\n            };\r\n        }\r\n\r\n        public getFeatureSettings(): IVersionsFeatureSettings {\r\n            return this.documentInstance.getFeatureSettings<IVersionsFeatureSettings>(\"Versions\", this.getDefaultSettings);\r\n        }\r\n\r\n    }\r\n\r\n    export interface IVersionsFeatureSettings {\r\n        isEnabled: boolean;\r\n    }\r\n\r\n    export class VersionsDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            /* eslint-disable-next-line @typescript-eslint/no-explicit-any */\r\n            if ((Innovasys as any).settings.versions.isEnabled\r\n                && Versions.Configuration\r\n                && Versions.Configuration.versionDefinitionSets) {\r\n\r\n                return new VersionsDocumentFeature(documentInstance);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.VersionsDocumentFeatureFactory());\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export abstract class DxBaseDocumentFeature extends DocumentFeatureBase implements IDocumentFeature {\r\n\r\n        public populateResponsiveConfiguration(configuration: ResponsiveConfiguration): void {\r\n            if (configuration.profileName === \"mobile\" || configuration.profileName === \"tablet\") {\r\n                switch (configuration.profileName) {\r\n                    case \"tablet\":\r\n                        configuration.clickTargets.push(\r\n                            new ResponsiveClickTarget(\".i-section-content>a:last-child\", ResponsiveClickTargetKind.block));\r\n                        break;\r\n                    case \"mobile\":\r\n\r\n                        break;\r\n                    // No default\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n","/* eslint-disable-next-line @typescript-eslint/no-unused-vars */\r\nnamespace Innovasys.Content.Features {\r\n\r\n    export class DxWebServiceDocumentFeature extends DxBaseDocumentFeature implements IDocumentFeature {\r\n\r\n        public getName(): string {\r\n            return \"dx-webservice\";\r\n        }\r\n\r\n        public populateResponsiveConfiguration(configuration: ResponsiveConfiguration): void {\r\n            super.populateResponsiveConfiguration(configuration);\r\n            if (configuration.profileName === \"mobile\" || configuration.profileName === \"tablet\") {\r\n                switch (configuration.profileName) {\r\n                    case \"tablet\":\r\n                        break;\r\n                    case \"mobile\":\r\n                        break;\r\n                    // No default\r\n                }\r\n                configuration.clickTargets.push(new ResponsiveClickTarget(\".i-item-summary a\", ResponsiveClickTargetKind.inline));\r\n            }\r\n        }\r\n\r\n        public applyResponsiveConfiguration(configuration: ResponsiveConfiguration): void {\r\n            if (configuration.profileName === \"mobile\" || configuration.profileName === \"tablet\") {\r\n                switch (configuration.profileName) {\r\n                    case \"tablet\":\r\n                        break;\r\n                    case \"mobile\":\r\n                        break;\r\n                    // No default\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    export class DxWebServiceDocumentFeatureFactory {\r\n\r\n        public createInstance(documentInstance: Document): IDocumentFeature {\r\n            // Always enabled\r\n            return new DxWebServiceDocumentFeature(documentInstance);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nInnovasys.Content.DocumentFeatureConfiguration.registerDocumentFeatureFactory(\r\n    new Innovasys.Content.Features.DxWebServiceDocumentFeatureFactory());\r\n"]}